function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as D,r as p,U as B,o as P,a as _,c as u,b as e,d as n,w as S,e as m,f as C,t as w,F as x,g as F,V as q,G as L,H as A,I as R,E as h,h as G,a1 as H,a2 as O,R as J,S as K}from"./app-Bv7sA21o.js";import{_ as Q}from"./ckeditor-CoRrIgZH.js";import"./sourceediting-D-Hsyexd.js";const c=f=>(H("data-v-4547d24f"),f=f(),O(),f),W={class:"page-wrap"},X=c(()=>e("div",{class:"page-title mb-4"},[e("div",{class:"row gy-3 align-items-center"},[e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Footer Banner Content")])])],-1)),Y={class:"section"},Z={key:0,class:"d-flex justify-content-center py-5"},ee=c(()=>e("div",{class:"spinner-border",role:"status"},null,-1)),te=[ee],se={key:1,class:"page-content"},ae={class:"row"},le={class:"col-12"},ie={class:"form-group title-editor"},oe=c(()=>e("label",{for:"title"},[h("Title "),e("span",{class:"text-danger"},"*")],-1)),ne={class:"col-12"},ce={class:"form-group"},re=c(()=>e("label",{for:"sub_title"},[h("Subtitle "),e("span",{class:"text-danger"},"*")],-1)),de={class:"row"},_e={class:"col-6"},ue={class:"form-group"},me=c(()=>e("label",{for:"sub_title"},[h("Image Banner First "),e("span",{class:"text-danger"},"*")],-1)),pe={class:"col-6"},ge={class:"form-group"},be=c(()=>e("label",{for:"sub_title"},[h("Image Banner Second "),e("span",{class:"text-danger"},"*")],-1)),he={class:"table-wrap"},fe={class:"table-responsive"},ve={class:"table table-list mb-0 mw-lg"},ye=c(()=>e("thead",null,[e("tr",null,[e("th",{class:"fw-semibold",width:"30%"},"Footer List Image"),e("th",{class:"fw-semibold"},"Footer List Title"),e("th",{class:"fw-semibold"},"Footer List Describtion"),e("th",{style:{width:"90px"},class:"text-secondary text-center fw-semibold"},"Action")])],-1)),we={class:"form-group mb-0"},xe={class:"form-group mb-0"},Fe={class:"form-group mb-0"},Ie={key:0,class:"action-btn-group justify-content-center mb-0 mw-0"},Ve=["onClick"],Te=c(()=>e("i",{class:"icon-bi bi-trash"},null,-1)),Ue=[Te],ke={class:"table-footer pt-3"},ze={class:"row align-items-center"},Se={class:"col-auto"},Ce=["onClick"],Ee=c(()=>e("i",{class:"bi bi-plus-lg me-2"},null,-1)),Me={class:"row pt-2"},Ne={class:"col-12"},$e={class:"form-group mb-0"},je={type:"submit",class:"btn btn-save btn-primary"},De={key:0,class:"spinner-border spinner-border-sm",role:"status"},Be={key:1},Pe={__name:"footer-banner-content",setup(f){const v=J(()=>K(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),I=p({}),V=p({}),T=p({}),U=p(!0),y=p(!1);p(null);const l=p([]),k=B({addMultiItem:[{list_title:"",list_content:"",image:""}]}),z=async()=>{var t,i;try{const s=await C.get("/api/footer-banner-content");if(s.data.status){const g=s.data.data[0]||s.data.data;l.value=g;const a=g.list_content.map(o=>({list_title:o.list_title,list_content:o.list_content,image_url:o.image_url,image:o.image}));k.addMultiItem=a.length>0?a:[{list_content:""}]}}catch(s){w(((i=(t=s.response)==null?void 0:t.data)==null?void 0:i.message)||"Error loading data","error").show()}finally{U.value=!1}},E=async t=>{var g,a;console.log(t,"values"),y.value=!0;const i=l.value.id;if(i)var s=`/api/home-footer-banner/${i}`;else var s="/api/home-footer-banner";try{const o=await C.post(s,{title:t.title.replace(/^<[^>]+>|<[^>]+>$/g,""),subtitle:t.sub_title,image_banner_first:V.value.filename,image_banner_second:T.value.filename,addMultiItem:t.addMultiItem});o.data.status&&(w(o.data.message,"success").show(),z())}catch(o){w(((a=(g=o.response)==null?void 0:g.data)==null?void 0:a.message)||"Submission failed","error").show()}finally{y.value=!1}},M=(t,i,s)=>{I.value=t,s[i].value.image=I.value.filename},N=t=>{V.value=t},$=t=>{T.value=t};return P(()=>{z()}),(t,i)=>(_(),u("div",W,[X,e("section",Y,[U.value?(_(),u("div",Z,te)):(_(),u("div",se,[n(m(G),{onSubmit:E,"initial-values":k},{default:S(({errors:s,values:g})=>[e("div",ae,[e("div",le,[e("div",ie,[oe,n(Q,{name:"title",toolbar:["italic","fontColor"],data:l.value.title,"onUpdate:data":i[0]||(i[0]=a=>l.value.title=a),rules:"required"},null,8,["data"])])]),e("div",ne,[e("div",ce,[re,n(m(x),{type:"text",name:"sub_title",class:F(["form-control",{"border-danger":s.sub_title}]),modelValue:l.value.sub_title,"onUpdate:modelValue":i[1]||(i[1]=a=>l.value.sub_title=a),rules:"required"},null,8,["class","modelValue"])])])]),e("div",de,[e("div",_e,[e("div",ue,[me,n(m(v),{name:"image_banner_first",id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"15%",filePath:l.value.image_banner_first_show,fileName:l.value.image_banner_first,rules:l.value.image_banner_first?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:N,isDeleteDisabled:!0},null,8,["filePath","fileName","rules"])])]),e("div",pe,[e("div",ge,[be,n(m(v),{name:"image_banner_second",id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"15%",filePath:l.value.image_banner_second_show,fileName:l.value.image_banner_second,rules:l.value.image_banner_second?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:$,isDeleteDisabled:!0},null,8,["filePath","fileName","rules"])])])]),e("div",he,[n(m(q),{name:"addMultiItem"},{default:S(({fields:a,push:o,remove:j})=>[e("div",fe,[e("table",ve,[ye,e("tbody",null,[(_(!0),u(L,null,A(a,(r,d)=>(_(),u("tr",{key:d},[e("td",null,[e("div",we,[n(m(v),{name:`image${d}`,id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"35%",class:"upload-smaller",filePath:r.value.image_url,fileName:r.value.image,rules:r.value.image?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:b=>M(b,d,a),isDeleteDisabled:!0},null,8,["name","filePath","fileName","rules","onEmitUploadFile"])])]),e("td",null,[e("div",xe,[n(m(x),{name:`list_title${d}`,type:"text",class:F(["form-control",{"border-danger":s[`list_title${d}`]}]),modelValue:r.value.list_title,"onUpdate:modelValue":b=>r.value.list_title=b,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[e("div",Fe,[n(m(x),{name:`list_content${d}`,type:"text",class:F(["form-control",{"border-danger":s[`list_content${d}`]}]),modelValue:r.value.list_content,"onUpdate:modelValue":b=>r.value.list_content=b,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[a.length>1?(_(),u("ul",Ie,[e("li",null,[e("button",{onClick:b=>j(d),type:"button",class:"btn p-1 fs-5 text-black"},Ue,8,Ve)])])):R("",!0)])]))),128))])])]),e("div",ke,[e("div",ze,[e("div",Se,[e("button",{type:"button",class:"btn btn-save btn-secondary",onClick:r=>o({list_content:"",list_title:"",image:""})},[Ee,h("Add More ")],8,Ce)])])])]),_:2},1024)]),e("div",Me,[e("div",Ne,[e("div",$e,[e("button",je,[y.value?(_(),u("div",De)):(_(),u("span",Be,"SUBMIT"))])])])])]),_:1},8,["initial-values"])]))])]))}},Re=D(Pe,[["__scopeId","data-v-4547d24f"]]);export{Re as default};
