import{_ as g}from"./ckeditor-CoRrIgZH.js";import{r as l,U as w,o as k,a as n,c,b as s,d as _,w as x,e as p,f,t as u,F as V,g as v,h as U}from"./app-Bv7sA21o.js";import"./sourceediting-D-Hsyexd.js";const B={class:"page-wrap"},C=s("div",{class:"page-title mb-4"},[s("div",{class:"row gy-3 align-items-center"},[s("div",{class:"col align-self-end"},[s("h1",{class:"h2 mb-0"},"Cancellation & Refund Policy")])])],-1),S={class:"section"},T={key:0,class:"d-flex justify-content-center py-5"},E=s("div",{class:"spinner-border",role:"status"},null,-1),F=[E],I={key:1,class:"page-content"},M={class:"row"},R={class:"col-12"},q={class:"row"},A={class:"col-12"},L={class:"form-group"},N=s("label",{for:""},"Title",-1),$={class:"col-12 col-md-12"},j={class:"form-group"},z=s("label",{for:""},"Content",-1),P={class:"row pt-4"},D={class:"col-12"},G={class:"form-group mb-0"},H={type:"submit",class:"btn btn-save btn-primary"},J={key:0,class:"spinner-border spinner-border-sm",role:"status"},K={key:1},Y={__name:"cancellation-and-refund-policy",setup(O){const h=l(),o=l({});l({}),l({});const d=l(!1),r=l(!1),b=w({addMultiItem:[{title:"",image:"",text:""}]}),m=()=>{d.value=!0,f.get("/api/cancellation-policy").then(e=>{e.data.status&&(o.value=e.data.data,setTimeout(()=>{d.value=!1},400))}).catch(e=>{e.response.data.message&&u(e.response.data.message,"error").show(),d.value=!1})},y=e=>{r.value=!0;const a=o.value.id;if(a)var i=`/api/cancellation-policy/${a}`;else var i="/api/cancellation-policy";f.post(i,{title:e.title,cancellation_policy:e.cancellation_policy}).then(t=>{t.data.status&&(u(t.data.message,"success").show(),setTimeout(()=>{r.value=!1,m()},400))}).catch(t=>{u(t.response.data.message,"error").show(),r.value=!1})};return k(()=>{m()}),(e,a)=>(n(),c("div",B,[C,s("section",S,[d.value?(n(),c("div",T,F)):(n(),c("div",I,[_(p(U),{ref_key:"formRef",ref:h,onSubmit:y,"initial-values":b},{default:x(({errors:i})=>[s("div",M,[s("div",R,[s("div",q,[s("div",A,[s("div",L,[N,_(p(V),{type:"text",name:"title",class:v(["form-control",{"border-danger":i.title}]),modelValue:o.value.title,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.title=t),rules:"required"},null,8,["class","modelValue"])])]),s("div",$,[s("div",j,[z,_(g,{name:"cancellation_policy",class:v({"border-danger":i.cancellation_policy}),data:o.value.cancellation_policy,"onUpdate:data":a[1]||(a[1]=t=>o.value.cancellation_policy=t),rules:"required"},null,8,["class","data"])])])])])]),s("div",P,[s("div",D,[s("div",G,[s("button",H,[r.value?(n(),c("div",J)):(n(),c("span",K,"SUBMIT"))])])])])]),_:1},8,["initial-values"])]))])]))}};export{Y as default};
