import{_ as d}from"./tooltip-BrvWqPPW.js";import{r as m,a as l,c as n,b as s,d as a,w as b,e as r,f as g,t as w,F as p,g as _,h as v,E as f,$ as u}from"./app-Bv7sA21o.js";const y={class:"page-wrap"},x=s("div",{class:"page-title mb-4"},[s("div",{class:"row gy-3 align-items-center"},[s("div",{class:"col align-self-end"},[s("h1",{class:"h2 mb-0"},"Change Password")])])],-1),C={class:"section"},k={class:"page-content"},P={class:"row"},N={class:"col-12 col-lg-4"},B={class:"form-group"},E=s("label",{for:""},[f("New Password"),s("span",{class:"text-danger"},"*")],-1),F={class:"input-group"},S=s("i",{class:"bi bi-eye-fill fs-5"},null,-1),T=[S],V={class:"col-12 col-lg-4"},q={class:"form-group"},$=s("label",{for:""},[f("Confirm Password"),s("span",{class:"text-danger"},"*")],-1),z={class:"input-group"},I=s("i",{class:"bi bi-eye-fill fs-5"},null,-1),L=[I],M={class:"row pt-2"},R={class:"col-12"},U={class:"form-group mb-0"},j={class:"btn btn-save btn-primary"},A={key:0,class:"spinner-border spinner-border-sm",role:"status"},D={key:1},K={__name:"change-password",setup(G){const i=m(!1),c=({target:e})=>{let t=u(e).parent().find("input"),o=u(e).find("i");t.attr("type")==="password"?(t.attr("type","text"),o.attr("class","bi bi-eye-slash-fill fs-5")):(t.attr("type","password"),o.attr("class","bi bi-eye-fill fs-5"))},h=(e,{resetForm:t})=>{i.value=!0,g.post("/api/pms-changepassword",{newpass:e.password}).then(o=>{o.data.status&&(w(o.data.message,"success").show(),i.value=!1,t())}).catch(o=>{i.value=!1})};return(e,t)=>(l(),n("div",y,[x,s("section",C,[s("div",k,[a(r(v),{onSubmit:h},{default:b(({errors:o})=>[s("div",P,[s("div",N,[s("div",B,[E,s("div",F,[a(r(p),{type:"password",name:"password",class:_(["form-control",{"border-danger":o.password}]),placeholder:"New Password",rules:"required|min:5|max:10","data-bs-toggle":"tooltip"},null,8,["class"]),s("button",{type:"button",class:"input-group-text",onClick:c},T)]),a(d,{error:o.password},null,8,["error"])])]),s("div",V,[s("div",q,[$,s("div",z,[a(r(p),{type:"password",name:"confirmation",class:_(["form-control",{"border-danger":o.confirmation}]),placeholder:"Confirm Password",ref:"passwordRef",rules:"required|min:5|max:10|confirmed:@password","data-bs-toggle":"tooltip"},null,8,["class"]),s("button",{type:"button",class:"input-group-text",onClick:c},L)]),a(d,{error:o.confirmation},null,8,["error"])])])]),s("div",M,[s("div",R,[s("div",U,[s("button",j,[i.value?(l(),n("div",A)):(l(),n("span",D,"SUBMIT"))])])])])]),_:1})])])]))}};export{K as default};
