import{u as S,z as B,r as n,o as U,B as E,a as i,c as d,b as s,K as F,e as r,d as c,w as y,f as x,t as v,E as m,F as h,g as b,h as M}from"./app-Bv7sA21o.js";const N={class:"page-wrap property-add"},q={class:"page-title mb-4"},C={class:"row gy-3 align-items-center"},z={class:"col align-self-end"},A={class:"h2 mb-0"},D={class:"col-auto"},L=s("i",{class:"icon-list me-2"},null,-1),R={class:"section"},$={key:0,class:"d-flex justify-content-center py-5"},j=s("div",{class:"spinner-border",role:"status"},null,-1),I=[j],K={key:1,class:"page-content"},G={class:"row"},H={class:"col-12 col-lg-10 col-xl-7"},J={class:"row"},O={class:"col-12"},P={class:"form-group"},Q=s("label",{for:""},[m("Name"),s("span",{class:"text-danger"},"*")],-1),W={class:"form-group"},X=s("label",{for:""},[m("Title"),s("span",{class:"text-danger"},"*")],-1),Y={class:"form-group"},Z=s("label",{for:""},[m("Sub Title"),s("span",{class:"text-danger"},"*")],-1),ss={class:"row pt-2"},ts={class:"col-12"},es={class:"form-group mb-0"},as={class:"btn btn-save btn-primary"},os={key:0,class:"spinner-border spinner-border-sm",role:"status"},ls={key:1},ds={__name:"add",setup(ns){const V=S(),o=B(),f=n({}),g=n(null),a=n({}),_=n(!1),u=n(!1),w=()=>{o.params.id&&(_.value=!0,x.get(`/api/tags/${o.params.id}`).then(e=>{e.data.status&&(a.value=e.data.data,setTimeout(()=>{_.value=!1},400))}).catch(e=>{v(e.response.data.message,"error").show(),_.value=!1}))},k=e=>{u.value=!0,o.params.id?g.value=`/api/tags/${o.params.id}`:g.value="/api/tags",x.post(g.value,{tags_name:e.tags_name,tag_title:e.tag_title,tab_sub_title:e.tab_sub_title,tags_image:f.value.filename,tags_image_filepath:f.value.filepath}).then(t=>{t.data.status&&(v(t.data.message,"success").show(),setTimeout(()=>{u.value=!1,V.push({name:"list-tags"})},400))}).catch(t=>{v(t.response.data.message,"error").show(),u.value=!1})};return U(()=>{w()}),(e,t)=>{const T=E("router-link");return i(),d("div",N,[s("div",q,[s("div",C,[s("div",z,[s("h1",A,F(r(o).params.id?"Modify Tags":"Add Tags"),1)]),s("div",D,[c(T,{to:{name:"list-tags"},class:"btn rounded-pill btn-secondary-light"},{default:y(()=>[L,m(" Manage ")]),_:1})])])]),s("section",R,[_.value?(i(),d("div",$,I)):(i(),d("div",K,[c(r(M),{onSubmit:k},{default:y(({errors:p})=>[s("div",G,[s("div",H,[s("div",J,[s("div",O,[s("div",P,[Q,c(r(h),{type:"text",name:"tags_name",class:b([{"border-danger":p.tags_name},"form-control"]),modelValue:a.value.tags_name,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.tags_name=l),rules:"required"},null,8,["class","modelValue"])]),s("div",W,[X,c(r(h),{type:"text",name:"tag_title",class:b([{"border-danger":p.tag_title},"form-control"]),modelValue:a.value.tag_title,"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.tag_title=l),rules:"required"},null,8,["class","modelValue"])]),s("div",Y,[Z,c(r(h),{type:"text",name:"tab_sub_title",class:b([{"border-danger":p.tab_sub_title},"form-control"]),modelValue:a.value.tab_sub_title,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.tab_sub_title=l),rules:"required"},null,8,["class","modelValue"])])])])])]),s("div",ss,[s("div",ts,[s("div",es,[s("button",as,[u.value?(i(),d("div",os)):(i(),d("span",ls,"SUBMIT"))])])])])]),_:1})]))])])}}};export{ds as default};
