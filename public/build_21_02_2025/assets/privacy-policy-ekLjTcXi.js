import{_ as g}from"./ckeditor-CoRrIgZH.js";import{r as i,U as w,o as k,a as c,c as n,b as s,d as _,w as x,e as m,f as v,t as u,F as V,g as f,h as U}from"./app-Bv7sA21o.js";import"./sourceediting-D-Hsyexd.js";const B={class:"page-wrap"},S=s("div",{class:"page-title mb-4"},[s("div",{class:"row gy-3 align-items-center"},[s("div",{class:"col align-self-end"},[s("h1",{class:"h2 mb-0"},"Privacy Policy")])])],-1),T={class:"section"},C={key:0,class:"d-flex justify-content-center py-5"},E=s("div",{class:"spinner-border",role:"status"},null,-1),F=[E],I={key:1,class:"page-content"},M={class:"row"},q={class:"col-12"},A={class:"row"},L={class:"col-12"},N={class:"form-group"},P=s("label",{for:""},"Title",-1),R={class:"col-12 col-md-12"},$={class:"form-group"},j=s("label",{for:""},"Content",-1),z={class:"row pt-4"},D={class:"col-12"},G={class:"form-group mb-0"},H={type:"submit",class:"btn btn-save btn-primary"},J={key:0,class:"spinner-border spinner-border-sm",role:"status"},K={key:1},Y={__name:"privacy-policy",setup(O){const h=i(),o=i({});i({}),i({});const d=i(!1),r=i(!1),y=w({addMultiItem:[{title:"",image:"",text:""}]}),p=()=>{d.value=!0,v.get("/api/privacy-policy").then(e=>{e.data.status&&(o.value=e.data.data,setTimeout(()=>{d.value=!1},400))}).catch(e=>{e.response.data.message&&u(e.response.data.message,"error").show(),d.value=!1})},b=e=>{r.value=!0;const a=o.value.id;if(a)var l=`/api/privacy-policy/${a}`;else var l="/api/privacy-policy";v.post(l,{title:e.title,cancellation_policy:e.cancellation_policy}).then(t=>{t.data.status&&(u(t.data.message,"success").show(),setTimeout(()=>{r.value=!1,p()},400))}).catch(t=>{u(t.response.data.message,"error").show(),r.value=!1})};return k(()=>{p()}),(e,a)=>(c(),n("div",B,[S,s("section",T,[d.value?(c(),n("div",C,F)):(c(),n("div",I,[_(m(U),{ref_key:"formRef",ref:h,onSubmit:b,"initial-values":y},{default:x(({errors:l})=>[s("div",M,[s("div",q,[s("div",A,[s("div",L,[s("div",N,[P,_(m(V),{type:"text",name:"title",class:f(["form-control",{"border-danger":l.title}]),modelValue:o.value.title,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.title=t),rules:"required"},null,8,["class","modelValue"])])]),s("div",R,[s("div",$,[j,_(g,{name:"cancellation_policy",class:f({"border-danger":l.cancellation_policy}),data:o.value.cancellation_policy,"onUpdate:data":a[1]||(a[1]=t=>o.value.cancellation_policy=t),rules:"required"},null,8,["class","data"])])])])])]),s("div",z,[s("div",D,[s("div",G,[s("button",H,[r.value?(c(),n("div",J)):(c(),n("span",K,"SUBMIT"))])])])])]),_:1},8,["initial-values"])]))])]))}};export{Y as default};
