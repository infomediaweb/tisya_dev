import{r,p as x,o as j,B,a as i,c as u,b as e,C as k,N as M,e as C,Z as U,d as b,w,G as q,X as V,f as h,t as v,E,H as Q,K as R,x as N}from"./app-Bv7sA21o.js";import{V as $}from"./vue-draggable-next.esm-bundler-C6HHcIkS.js";import{u as I}from"./debouncedRef-B_9CytHk.js";import{d as A}from"./modal-WLjbOo64.js";const G={class:"page-wrap property-add"},H={class:"page-title mb-4"},J={class:"row gy-3 align-items-center"},K=e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Join Our Network - FAQs List")],-1),O={class:"col-12 col-lg-4"},X={class:"input-group input-icon"},Z=e("span",{class:"icon-search"},null,-1),z={class:"col-auto"},P=e("i",{class:"bi bi-plus-lg fs-6 lh-1 me-2"},null,-1),W={class:"section"},Y={key:0,class:"d-flex justify-content-center py-5"},ee=e("div",{class:"spinner-border",role:"status"},null,-1),te=[ee],se={key:0,class:"outer-wrapper"},ae={class:"table-wrap"},oe={class:"table-responsive"},le={class:"table align-middle mb-0 mw-lg"},ne={width:"45px"},ce=e("th",{class:"text-secondary fw-semibold"},"Question",-1),ie=e("th",{width:"10%",class:"text-secondary fw-semibold"},"Status",-1),ue=e("th",{style:{width:"90px"},class:"text-secondary fw-semibold"},"Action",-1),de=["checked","value"],re={class:"form-check form-switch"},he=["checked","onChange"],_e={class:"action-btn-group mb-0 mw-0"},pe=e("i",{class:"bi bi-pencil-square"},null,-1),fe=["onClick"],ve=e("i",{class:"icon-bi bi-trash"},null,-1),me=[ve],ge={class:"table-footer pt-3"},ke={class:"row align-items-center"},be={class:"col-auto"},we=["disabled"],ye={key:1,class:"message text-center"},xe=e("h6",{class:"fw-bold"},"No Record Found",-1),Ce=[xe],De={__name:"list",setup(qe){const n=r([]),_=r(!1),c=r(!1),l=r([]),p=r(),f=I("",800),d=r(!1),g=o=>{d.value=!0,h.get("/api/join-our-network-faqs",{params:{page:o,search:f.value}}).then(t=>{t.data.status&&(n.value=t.data.data,setTimeout(()=>{c.value=!1,_.value=!1,l.value=[],d.value=!1},400))}).catch(t=>{d.value=!1})};x(f,(o,t)=>{d.value=!0,h.get("/api/join-our-network-faqs",{params:{search:o}}).then(s=>{s.data.status&&(n.value=s.data.data,setTimeout(()=>{c.value=!1,_.value=!1,l.value=[],d.value=!1},200))}).catch(s=>{console.log(s)})});const S=()=>{c.value?(_.value=!0,l.value=[],p.value.forEach(o=>{l.value.push(o.value)})):(_.value=!1,l.value=[])};x(l,(o,t)=>{var s;o.length!=((s=p==null?void 0:p.value)==null?void 0:s.length)?c.value=!1:o.length&&(c.value=!0)});const D=o=>{A("Are you sure you want to delete?",t).show();function t(){h.delete(`/api/join-our-network-faqs/${o}`).then(s=>{s.data.status&&(v(s.data.message,"success").show(),N(()=>{g()}))}).catch(s=>{console.log(s)})}},L=()=>{A("Are you sure you want to delete?",o).show();function o(){h.post("/api/join-our-network-faqs-delete-multiple",{ids:l.value}).then(t=>{t.data.status&&(v(t.data.message,"success").show(),N(()=>{g()}))}).catch(t=>{console.log(t)})}},F=(o,{target:t},s)=>{h.post(`/api/join-our-network-faqs-update-status/${o}`,{status:Number(t.checked)}).then(a=>{a.data.status&&(v(a.data.message,"success").show(),n.value[s].status=Number(t.checked))}).catch(a=>{console.log(a)})},T=o=>{let t=n.value.map(s=>s.id);h.post("/api/join-our-network-faqs-save-position",{position:t}).then(s=>{s.data.status&&v(s.data.message,"success").show()}).catch(s=>{v(s.response.data.message,"error").show()})};return j(()=>{g()}),(o,t)=>{const s=B("router-link");return i(),u("div",G,[e("div",H,[e("div",J,[K,e("div",O,[e("div",X,[Z,k(e("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=a=>U(f)?f.value=a:null),placeholder:"Search by question"},null,512),[[M,C(f)]])])]),e("div",z,[b(s,{to:{name:"join-our-network-add-faq"},class:"btn rounded-pill btn-secondary-light"},{default:w(()=>[P,E(" Add Faq ")]),_:1})])])]),e("section",W,[d.value?(i(),u("div",Y,te)):(i(),u(q,{key:1},[n.value.length?(i(),u("div",se,[e("div",ae,[e("div",oe,[e("table",le,[e("thead",null,[e("tr",null,[e("th",ne,[k(e("input",{class:"form-check-input form-check-lg mt-0",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),onChange:S},null,544),[[V,c.value]])]),ce,ie,ue])]),b(C($),{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=a=>n.value=a),animation:"200","ghost-class":"td-drag",onChange:T,class:"move",filter:".form-check-input, .action-btn-group",tag:"tbody"},{default:w(()=>[(i(!0),u(q,null,Q(n.value,(a,y)=>(i(),u("tr",{key:y},[e("td",null,[k(e("input",{class:"form-check-input form-check-lg mt-0",ref_for:!0,ref_key:"selectCheckRef",ref:p,checked:_.value,value:a.id,"onUpdate:modelValue":t[2]||(t[2]=m=>l.value=m),type:"checkbox"},null,8,de),[[V,l.value]])]),e("td",null,R(a.question),1),e("td",null,[e("div",re,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"s1",checked:a.status==1,onChange:m=>F(a.id,m,y),"true-value":"1","false-value":"0"},null,40,he)])]),e("td",null,[e("ul",_e,[e("li",null,[b(s,{to:{name:"join-our-network-add-faq",params:{id:a.id}},class:"btn ps-0 p-1 fs-5 text-black"},{default:w(()=>[pe]),_:2},1032,["to"])]),e("li",null,[e("button",{onClick:m=>D(a.id),class:"btn p-1 fs-5 text-black"},me,8,fe)])])])]))),128))]),_:1},8,["modelValue"])])])]),e("div",ge,[e("div",ke,[e("div",be,[e("button",{class:"btn btn-save btn-primary",onClick:L,disabled:!c.value&&l.value.length==0||l.value.length==0}," Delete Selected ",8,we)])])])])):(i(),u("div",ye,Ce))],64))])])}}};export{De as default};
