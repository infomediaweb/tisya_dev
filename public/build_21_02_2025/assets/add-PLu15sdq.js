function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/multi-select-Dla7bimF.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/multi-select-Vek3NNQL.css","assets/PdfUploadFile-B4UExIc5.js","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/PdfUploadFile-D_acZNCV.css","assets/upload-file-DWJp9l3Q.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{z as J,u as re,r as u,Q,A as ge,o as ee,a as o,J as X,w as E,b as e,d as c,e as r,F as y,g as b,c as l,G as B,H as z,K as P,h as Z,E as $,R as de,S as ce,f as q,t as I,x as W,U as ve,V as pe,I as se,B as ne,W as fe,p as he,L as be,C as ue,X as _e,i as $e,m as ye,Y as we}from"./app-Bv7sA21o.js";import{_ as j}from"./ckeditor-CoRrIgZH.js";import{_ as me}from"./tooltip-BrvWqPPW.js";import{d as ae}from"./dayjs.min-CU4dOPv8.js";import{d as te}from"./modal-WLjbOo64.js";import{p as ke}from"./no-img-x9zeKCez.js";import{V as ie}from"./vue-draggable-next.esm-bundler-C6HHcIkS.js";import{v as Ve}from"./validate-file-EZHt4CEQ.js";import"./sourceediting-D-Hsyexd.js";const xe={class:"row"},Ce={class:"col-12 col-lg-4"},Te={class:"form-group"},Ue=e("label",{for:""},[$("Name"),e("span",{class:"text-danger"},"*")],-1),Se={class:"col-12 col-lg-4"},Ie={class:"form-group"},De=e("label",{for:""},[$("Ru ID"),e("span",{class:"text-danger"},"*")],-1),Le={class:"col-12 col-lg-4"},Me={class:"form-group"},Ee=e("label",{for:""},[$("Internal name"),e("span",{class:"text-danger"},"*")],-1),Ae={class:"col-12 col-lg-4"},qe={class:"form-group"},Fe=e("label",{for:""},[$("Category"),e("span",{class:"text-danger"},"*")],-1),Re=e("option",{value:"",selected:"",disabled:""},"Select Category",-1),Be=["value"],Ne={class:"col-12 col-lg-4"},Oe={class:"form-group"},Pe=e("label",{for:""},[$("State"),e("span",{class:"text-danger"},"*")],-1),Ye=e("option",{value:"",selected:"",disabled:""},"Select State",-1),ze=["value"],He={class:"col-12 col-lg-4"},Ge={class:"form-group"},We=e("label",{for:""},[$("Location"),e("span",{class:"text-danger"},"*")],-1),Je=e("option",{value:"",selected:"",disabled:""},"Select Location",-1),Ke=["value"],Qe={class:"col-12 col-lg-3"},Xe={class:"form-group"},Ze=e("label",{for:""},[$("Collection "),e("small",null,"(Multiple Selection)")],-1),je={class:"col-12 col-lg-3"},et={class:"form-group"},tt=e("label",{for:""},[$("Capacity"),e("span",{class:"text-danger"},"*")],-1),st={class:"col-12 col-lg-3"},ot={class:"form-group"},at=e("label",{for:""},[$("Max Occupancy"),e("span",{class:"text-danger"},"*")],-1),lt={class:"col-12 col-lg-3"},nt={class:"form-group"},it=e("label",{for:""},"Extra guest charge",-1),dt={class:"col-12 col-lg-3"},ct={class:"form-group"},rt=e("label",{for:""},"Number of Staff",-1),ut={class:"col-12 col-lg-3"},_t={class:"form-group"},mt=e("label",{for:""},[$("Bedrooms"),e("span",{class:"text-danger"},"*")],-1),vt={class:"col-12 col-lg-3"},pt={class:"form-group"},ht=e("label",{for:""},[$("Bathrooms"),e("span",{class:"text-danger"},"*")],-1),gt={class:"col-12 col-lg-3"},ft={class:"form-group"},bt=e("label",{for:""},[$("Arrival Time"),e("span",{class:"text-danger"},"*")],-1),$t=e("option",{value:"",selected:"",disabled:""},"Select Arrival Time",-1),yt=["value"],wt={class:"col-12 col-lg-3"},kt={class:"form-group"},Vt=e("label",{for:""},[$("Departure Time"),e("span",{class:"text-danger"},"*")],-1),xt=e("option",{value:"",selected:"",disabled:""},"Select Departure Time",-1),Ct=["value"],Tt={class:"col-12 col-lg-3"},Ut={class:"form-group"},St=e("label",{for:""},"Map Latitude",-1),It={class:"col-12 col-lg-3"},Dt={class:"form-group"},Lt=e("label",{for:""},"Map Longitude",-1),Mt={class:"col-12 col-lg-6"},Et={class:"form-group"},At=e("label",{for:""},[$("Google Location URL"),e("span",{class:"text-danger"},"*")],-1),qt={class:"col-12"},Ft={class:"form-group"},Rt=e("label",{for:""},"Location Info",-1),Bt={class:"col-12"},Nt={class:"form-group"},Ot=e("label",{for:""},"Short Description",-1),Pt={class:"col-12"},Yt={class:"form-group"},zt=e("label",{for:""},"Description",-1),Ht={class:"col-12 col-lg-6"},Gt={class:"form-group"},Wt=e("label",{for:""},[$("Directions Short Description"),e("span",{class:"text-danger"},"*")],-1),Jt={class:"col-12 col-lg-6"},Kt={class:"form-group"},Qt=e("label",{for:""},"Directions (How to get there)",-1),Xt={class:"col-12"},Zt={class:"form-group"},jt=e("label",{for:""},"Home Rules",-1),es={class:"col-12"},ts={class:"form-group"},ss=e("label",{for:""},"Cancellation Policy",-1),os={class:"col-12"},as={class:"form-group"},ls=e("label",{for:""},"Brochure",-1),ns={class:"row"},is={class:"col-12"},ds={class:"form-group mb-0"},cs={type:"submit",class:"btn btn-save btn-primary"},rs={key:0,class:"spinner-border spinner-border-sm",role:"status"},us={key:1},_s={__name:"overview",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=J(),p=re(),v=de(()=>ce(()=>import("./multi-select-Dla7bimF.js"),__vite__mapDeps([0,1,2,3]))),g=u({}),x=u([]),T=u([]),f=u([]),U=u([]),D=u([]),C=u(),m=u(),h=u(),n=de(()=>ce(()=>import("./PdfUploadFile-B4UExIc5.js"),__vite__mapDeps([4,1,2,5,6,7]))),d=u(null),a=u(!1),S=F,s=Q(N,"data"),w=V=>{g.value=V},A=V=>{console.log(V,"id"),q.get(`/api/pdf-brochure-delete/${V}`).then(t=>{t.data.status&&(I(t.data.message,"success").show(),locationEditData.value.image_name="",locationEditData.value.image="")}).catch(t=>{I(t.response.data.message,"error").show()})},O=()=>{q.get("/api/home-types").then(V=>{V.data.status&&(x.value=V.data.data,W(()=>{C.value=s.value.home_type_id}))}).catch(V=>{console.log(V)})},oe=()=>{q.get("/api/states").then(V=>{V.data.status&&(T.value=V.data.data,W(()=>{L.params.id&&(m.value=s.value.state_id,le())}))}).catch(V=>{console.log(V)})},le=async()=>{await W(()=>{q.get(`/api/location-by-state/${m.value}`).then(V=>{V.data.status&&(f.value=V.data.data,W(()=>{h.value=s.value.location_id}))}).catch(V=>{console.log(V)})})},M=async()=>{var V;try{const t=await q.get("/api/get-collection");t.data.status&&(U.value=t.data.data,(V=s.value)==null||V.homecollections.forEach(Y=>{console.log(Y.collection_id,"collection_id"),Y.collection_id&&D.value.push(Y.collection_id)}))}catch(t){console.error("Error fetching collections:",t)}},k=ge(()=>{let V=ae().startOf("day").add(0,"hour"),t=ae().startOf("day").add(24,"hour"),Y=[];for(;V.isBefore(t);)Y.push(V.format("HH:mm")),V=V.add(60,"minute");return Y}),H=(V,{resetForm:t})=>{a.value=!0,L.params.id?d.value=`/api/home/${L.params.id}`:d.value="/api/home";const Y={...V,brochure:g.value.filename||"",mappedProperties:D.value||""};q.post(d.value,Y).then(G=>{G.data.status&&(I(G.data.message,"success").show(),setTimeout(()=>{a.value=!1,S("emitCurrentTab","Features"),L.params.id||p.push({name:"add-home",params:{id:G.data.last_insert_id}})},400))}).catch(G=>{I(G.response.data.message,"error").show(),a.value=!1})};return ee(()=>{O(),oe(),M()}),(V,t)=>(o(),X(r(Z),{onSubmit:H},{default:E(({meta:Y,values:G,errors:R})=>[e("div",xe,[e("div",Ce,[e("div",Te,[Ue,c(r(y),{type:"text",name:"home_name",class:b(["form-control",{"border-danger":R.home_name}]),modelValue:s.value.home_name,"onUpdate:modelValue":t[0]||(t[0]=i=>s.value.home_name=i),rules:"required"},null,8,["class","modelValue"])])]),e("div",Se,[e("div",Ie,[De,c(r(y),{type:"text",name:"ru_property_id",class:b(["form-control",{"border-danger":R.ru_property_id}]),modelValue:s.value.ru_property_id,"onUpdate:modelValue":t[1]||(t[1]=i=>s.value.ru_property_id=i),rules:"required"},null,8,["class","modelValue"])])]),e("div",Le,[e("div",Me,[Ee,c(r(y),{type:"text",name:"internal_name",class:b(["form-control",{"border-danger":R.internal_name}]),modelValue:s.value.internal_name,"onUpdate:modelValue":t[2]||(t[2]=i=>s.value.internal_name=i),rules:"required"},null,8,["class","modelValue"])])]),e("div",Ae,[e("div",qe,[Fe,c(r(y),{as:"select",name:"home_type_id",class:b(["form-control",{"border-danger":R.home_type_id}]),modelValue:C.value,"onUpdate:modelValue":t[3]||(t[3]=i=>C.value=i),rules:"required"},{default:E(()=>[Re,(o(!0),l(B,null,z(x.value,(i,K)=>(o(),l("option",{key:K,value:i.id},P(i.name),9,Be))),128))]),_:2},1032,["class","modelValue"])])]),e("div",Ne,[e("div",Oe,[Pe,c(r(y),{as:"select",name:"state_id",class:b(["form-control",{"border-danger":R.state_id}]),modelValue:m.value,"onUpdate:modelValue":t[4]||(t[4]=i=>m.value=i),onChange:le,rules:"required"},{default:E(()=>[Ye,(o(!0),l(B,null,z(T.value,(i,K)=>(o(),l("option",{key:K,value:i.id},P(i.name),9,ze))),128))]),_:2},1032,["class","modelValue"])])]),e("div",He,[e("div",Ge,[We,c(r(y),{as:"select",name:"location_id",class:b(["form-control",{"border-danger":R.location_id}]),modelValue:h.value,"onUpdate:modelValue":t[5]||(t[5]=i=>h.value=i),rules:"required"},{default:E(()=>[Je,(o(!0),l(B,null,z(f.value,(i,K)=>(o(),l("option",{key:K,value:i.id},P(i.location_name),9,Ke))),128))]),_:2},1032,["class","modelValue"])])]),e("div",Qe,[e("div",Xe,[Ze,c(r(y),{as:"div",name:"collection_name",class:"dropdown form-multiselect"},{default:E(()=>[c(r(v),{items:U.value,"item-name":"collection_name","item-id":"id",name:"ckb-pn",placeholder:"Select Collection",modelValue:D.value,"onUpdate:modelValue":t[6]||(t[6]=i=>D.value=i)},null,8,["items","modelValue"])]),_:1})])]),e("div",je,[e("div",et,[tt,c(r(y),{type:"text",name:"guests_included",class:b(["form-control",{"border-danger":R.guests_included}]),modelValue:s.value.guests_included,"onUpdate:modelValue":t[7]||(t[7]=i=>s.value.guests_included=i),rules:"required|numeric"},null,8,["class","modelValue"])])]),e("div",st,[e("div",ot,[at,c(r(y),{type:"text",name:"maximum_number_of_guests",class:b(["form-control",{"border-danger":R.maximum_number_of_guests}]),rules:{required:!0,min_value:s.value.guests_included},modelValue:s.value.maximum_number_of_guests,"onUpdate:modelValue":t[8]||(t[8]=i=>s.value.maximum_number_of_guests=i),"data-bs-toggle":"tooltip"},null,8,["class","rules","modelValue"]),c(me,{error:R.maximum_number_of_guests,message:"Value should be greater than capacity"},null,8,["error"])])]),e("div",lt,[e("div",nt,[it,c(r(y),{type:"text",name:"extra_guest_charges",class:b(["form-control",{"border-danger":R.no_of_staff}]),modelValue:s.value.extra_guest_charges,"onUpdate:modelValue":t[9]||(t[9]=i=>s.value.extra_guest_charges=i),rules:"numeric"},null,8,["class","modelValue"])])]),e("div",dt,[e("div",ct,[rt,c(r(y),{type:"text",name:"no_of_staff",class:b(["form-control",{"border-danger":R.no_of_staff}]),modelValue:s.value.no_of_staff,"onUpdate:modelValue":t[10]||(t[10]=i=>s.value.no_of_staff=i),rules:"numeric"},null,8,["class","modelValue"])])]),e("div",ut,[e("div",_t,[mt,c(r(y),{type:"text",name:"no_of_bedrooms",class:b(["form-control",{"border-danger":R.no_of_bedrooms}]),modelValue:s.value.no_of_bedrooms,"onUpdate:modelValue":t[11]||(t[11]=i=>s.value.no_of_bedrooms=i),rules:"required|numeric"},null,8,["class","modelValue"])])]),e("div",vt,[e("div",pt,[ht,c(r(y),{type:"text",name:"no_of_bathrooms",class:b(["form-control",{"border-danger":R.no_of_bathrooms}]),modelValue:s.value.no_of_bathrooms,"onUpdate:modelValue":t[12]||(t[12]=i=>s.value.no_of_bathrooms=i),rules:"required|decimal"},null,8,["class","modelValue"])])]),e("div",gt,[e("div",ft,[bt,c(r(y),{as:"select",name:"arrival_time",class:b(["form-control",{"border-danger":R.arrival_time}]),modelValue:s.value.checkin_time,"onUpdate:modelValue":t[13]||(t[13]=i=>s.value.checkin_time=i),rules:"required"},{default:E(()=>[$t,(o(!0),l(B,null,z(k.value,(i,K)=>(o(),l("option",{key:K,value:i},P(i),9,yt))),128))]),_:2},1032,["class","modelValue"])])]),e("div",wt,[e("div",kt,[Vt,c(r(y),{as:"select",name:"departure_time",class:b(["form-control",{"border-danger":R.departure_time}]),modelValue:s.value.checkout_time,"onUpdate:modelValue":t[14]||(t[14]=i=>s.value.checkout_time=i),rules:"required"},{default:E(()=>[xt,(o(!0),l(B,null,z(k.value,(i,K)=>(o(),l("option",{key:K,value:i},P(i),9,Ct))),128))]),_:2},1032,["class","modelValue"])])]),e("div",Tt,[e("div",Ut,[St,c(r(y),{type:"text",name:"map_latitude",class:b(["form-control",{"border-danger":R.map_latitude}]),modelValue:s.value.map_latitude,"onUpdate:modelValue":t[15]||(t[15]=i=>s.value.map_latitude=i)},null,8,["class","modelValue"])])]),e("div",It,[e("div",Dt,[Lt,c(r(y),{type:"text",name:"map_longitude",class:b(["form-control",{"border-danger":R.map_longitude}]),modelValue:s.value.map_longitude,"onUpdate:modelValue":t[16]||(t[16]=i=>s.value.map_longitude=i)},null,8,["class","modelValue"])])]),e("div",Mt,[e("div",Et,[At,c(r(y),{type:"url",name:"googlelocation_url",class:b(["form-control",{"border-danger":R.googlelocation_url}]),modelValue:s.value.googlelocation_url,"onUpdate:modelValue":t[17]||(t[17]=i=>s.value.googlelocation_url=i),rules:"required|url","data-bs-toggle":"tooltip"},null,8,["class","modelValue"]),c(me,{error:R.googlelocation_url},null,8,["error"])])]),e("div",qt,[e("div",Ft,[Rt,c(j,{name:"location_info",data:s.value.location_info,"onUpdate:data":t[18]||(t[18]=i=>s.value.location_info=i)},null,8,["data"])])]),e("div",Bt,[e("div",Nt,[Ot,c(r(y),{as:"textarea",name:"short_description",class:"form-control",rows:"7",modelValue:s.value.short_description,"onUpdate:modelValue":t[19]||(t[19]=i=>s.value.short_description=i)},null,8,["modelValue"])])]),e("div",Pt,[e("div",Yt,[zt,c(j,{name:"description",data:s.value.description,"onUpdate:data":t[20]||(t[20]=i=>s.value.description=i)},null,8,["data"])])]),e("div",Ht,[e("div",Gt,[Wt,c(j,{name:"short_direction",rules:s.value.short_direction?"":"required",data:s.value.short_direction,"onUpdate:data":t[21]||(t[21]=i=>s.value.short_direction=i)},null,8,["rules","data"])])]),e("div",Jt,[e("div",Kt,[Qt,c(j,{name:"direction_how_to_get_there",data:s.value.direction_how_to_get_there,"onUpdate:data":t[22]||(t[22]=i=>s.value.direction_how_to_get_there=i)},null,8,["data"])])]),e("div",Xt,[e("div",Zt,[jt,c(j,{name:"house_rules",data:s.value.house_rules,"onUpdate:data":t[23]||(t[23]=i=>s.value.house_rules=i)},null,8,["data"])])]),e("div",es,[e("div",ts,[ss,c(j,{name:"cancellation_policy",data:s.value.cancellation_policy,"onUpdate:data":t[24]||(t[24]=i=>s.value.cancellation_policy=i)},null,8,["data"])])]),e("div",os,[e("div",as,[ls,c(r(n),{name:"brochure",id:"brochure",fileType:"pdf",acceptType:"application/pdf",info:"Max size: 100mb",changeText:"To change the PDF, click or drag a new file here!",size:"100",filePath:s.value.pdf_full_path,fileName:s.value.brochure,onEmitUploadFile:w,onEmitDeleteUploadFile:A},null,8,["filePath","fileName"])])])]),e("div",ns,[e("div",is,[e("div",ds,[e("button",cs,[a.value?(o(),l("div",rs)):(o(),l("span",us,"SUBMIT"))])])])])]),_:1}))}},ms={class:"row"},vs={class:"col-12"},ps={class:"multi-row"},hs={class:"repeat-row"},gs={class:"row"},fs={class:"col-12"},bs={class:"form-group"},$s={class:"row"},ys={class:"col"},ws={class:"small-action-btn"},ks={class:"btn btn-icon btn-secondary-light pe-none"},Vs={class:"col-auto"},xs={class:"small-action-btn"},Cs=["onClick"],Ts=e("i",{class:"icon-bi bi-trash fs-6"},null,-1),Us=[Ts],Ss=["onClick"],Is=e("i",{class:"icon-bi bi-trash fs-6"},null,-1),Ds=[Is],Ls={class:"col-12"},Ms={class:"form-group"},Es=e("label",{for:""},[$("Title"),e("span",{class:"text-danger"},"*")],-1),As={class:"col-12"},qs={class:"form-group"},Fs=e("label",{for:""},[$("Detail"),e("span",{class:"text-danger"},"*")],-1),Rs={class:"action-btn"},Bs={class:"row"},Ns={class:"col-12"},Os=["onClick","disabled"],Ps=e("i",{class:"bi bi-plus-lg me-2"},null,-1),Ys={class:"row pt-4"},zs={class:"col-12"},Hs={class:"form-group mb-0"},Gs={type:"submit",class:"btn btn-save btn-primary"},Ws={key:0,class:"spinner-border spinner-border-sm",role:"status"},Js={key:1},Ks={__name:"feature",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){var C;const L=J(),p=u(!1),v=F,x=Q(N,"data"),T=ve({addMultiItem:[{title:"",detail:""}]});(C=x.value.home_features)!=null&&C.length&&L.params.id&&(T.addMultiItem=x.value.home_features);const f=m=>m[m.length-1].value,U=(m,h)=>{te("Are you sure you want to remove?",n).show();function n(){axios.post("/api/delete-features",{id:m,home_id:L.params.id}).then(d=>{d.data.status&&(I(d.data.message,"success").show(),setTimeout(()=>{v("emitCurrentTab","Features")},400))}).catch(d=>{I(d.response.data.message,"error").show()})}},D=m=>{p.value=!0,axios.post("/api/home-features",{features:m.addMultiItem,home_id:L.params.id}).then(h=>{h.data.status&&(I(h.data.message,"success").show(),setTimeout(()=>{p.value=!1,v("emitCurrentTab","Amenities")},400))}).catch(h=>{I(h.response.data.message,"error").show(),p.value=!1})};return(m,h)=>(o(),X(r(Z),{onSubmit:D,"initial-values":T},{default:E(({errors:n})=>[e("div",ms,[e("div",vs,[c(r(pe),{name:"addMultiItem"},{default:E(({fields:d,push:a,remove:S})=>[e("div",ps,[(o(!0),l(B,null,z(d,(_,s)=>(o(),l("div",hs,[e("div",gs,[e("div",fs,[e("div",bs,[e("div",$s,[e("div",ys,[e("div",ws,[e("div",ks,P(s+1),1)])]),e("div",Vs,[e("div",xs,[_.value.id?(o(),l("button",{key:0,type:"button",class:"btn btn-icon btn-danger",onClick:w=>U(_.value.id)},Us,8,Cs)):d.length>1?(o(),l("button",{key:1,type:"button",class:"btn btn-icon btn-danger",onClick:w=>S(s)},Ds,8,Ss)):se("",!0)])])])])]),e("div",Ls,[e("div",Ms,[Es,c(r(y),{type:"text",name:`title-${s}`,class:b(["form-control",{"border-danger":n[`title-${s}`]}]),modelValue:_.value.title,"onUpdate:modelValue":w=>_.value.title=w,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("div",As,[e("div",qs,[Fs,c(j,{name:`detail-${s}`,rules:_.value.detail?"":"required",data:_.value.detail,"onUpdate:data":w=>_.value.detail=w},null,8,["name","rules","data","onUpdate:data"])])])])]))),256)),e("div",Rs,[e("div",Bs,[e("div",Ns,[e("button",{type:"button",class:"btn btn-save btn-secondary",onClick:_=>a({title:"",detail:""}),disabled:!f(d).title||!f(d).detail},[Ps,$("Add More ")],8,Os)])])])])]),_:2},1024)])]),e("div",Ys,[e("div",zs,[e("div",Hs,[e("button",Gs,[p.value?(o(),l("div",Ws)):(o(),l("span",Js,"SUBMIT"))])])])])]),_:1},8,["initial-values"]))}},Qs={key:0,class:"d-flex justify-content-center py-5"},Xs=e("div",{class:"spinner-border",role:"status"},null,-1),Zs=[Xs],js={class:"form-group"},eo={class:"row gx-3 gy-3"},to={class:"col-auto"},so={class:"col"},oo=["src","alt"],ao=["for"];const lo={class:"row"},no={class:"col-12"},io={class:"form-group mb-0"},co={type:"submit",class:"btn btn-save btn-primary"},ro={key:0,class:"spinner-border spinner-border-sm",role:"status"},uo={key:1},_o={key:1,class:"message text-center"},mo={class:"fw-bold"},vo=e("i",{class:"bi bi-arrow-right"},null,-1),po={__name:"amenities",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=J(),p=u([]),v=u(null),g=u(!1),x=u(!1),T=F,U=Q(N,"data"),D=n=>{v.value=n.draggedContext.index},C=n=>{v.value=null},m=()=>{g.value=!0,q.get(`/api/get-home-amenities/${L.params.id}`).then(n=>{n.data.status&&(p.value=n.data.data,p.value.filter(d=>U.value.home_amenities.some(a=>{a.amenities_id==d.id&&(d.isChecked=!0,d.number=a.amenities_number)})),setTimeout(()=>{g.value=!1},400))}).catch(n=>{g.value=!1})},h=n=>{x.value=!0;let d=p.value.filter(a=>a.isChecked).map(a=>({amenities_id:a.id,amenities_name:a.amenities_name,amenities_number:Number(a.number)}));q.post("/api/save-home-amenities",{amenities:d,home_id:L.params.id}).then(a=>{a.data.status&&(I(a.data.message,"success").show(),setTimeout(()=>{x.value=!1,T("emitCurrentTab","Tags")},400))}).catch(a=>{I(a.response.data.message,"error").show(),x.value=!1})};return ee(()=>{m()}),(n,d)=>{const a=ne("router-link");return g.value?(o(),l("div",Qs,Zs)):(o(),l(B,{key:1},[p.value.length?(o(),X(r(Z),{key:0,onSubmit:h},{default:E(({errors:S})=>[c(r(ie),{list:p.value,move:D,onEnd:C,filter:".form-check-input, label",class:"row"},{default:E(()=>[(o(!0),l(B,null,z(p.value,(_,s)=>(o(),l("div",{class:b(["col-12 col-md-6 col-lg-4 col-xxl-3 drag-el",{active:v.value==s}])},[e("div",js,[e("div",{class:b(["form-check form-check-lg form-check-box",{"border-primary":_.isChecked}])},[e("div",eo,[e("div",to,[c(r(y),{type:"checkbox",class:"form-check-input",name:_.amenities_name,id:_.id,value:!0,"unchecked-value":!1,modelValue:_.isChecked,"onUpdate:modelValue":w=>_.isChecked=w},null,8,["name","id","modelValue","onUpdate:modelValue"])]),e("div",so,[e("img",{src:_.amenities_image?_.amenities_image:r(ke),alt:_.amenities_name,height:"20"},null,8,oo),$("Â  "),e("label",{for:_.id},P(_.amenities_name),9,ao)]),se("",!0)])],2)])],2))),256))]),_:1},8,["list"]),e("div",lo,[e("div",no,[e("div",io,[e("button",co,[x.value?(o(),l("div",ro)):(o(),l("span",uo,"SUBMIT"))])])])])]),_:1})):(o(),l("div",_o,[e("h6",mo,[$("No record found click here to add "),c(a,{class:"icon-link icon-link-hover ff-body",to:{name:"add-amenities"}},{default:E(()=>[$("amenities "),vo]),_:1})])]))],64))}}},ho={key:0,class:"d-flex justify-content-center py-5"},go=e("div",{class:"spinner-border",role:"status"},null,-1),fo=[go],bo={class:"form-group"},$o={class:"row gx-3 gy-3"},yo={class:"col-auto"},wo={class:"col"},ko=["for"];const Vo={class:"row"},xo={class:"col-12"},Co={class:"form-group mb-0"},To={type:"submit",class:"btn btn-save btn-primary"},Uo={key:0,class:"spinner-border spinner-border-sm",role:"status"},So={key:1},Io={key:1,class:"message text-center"},Do={class:"fw-bold"},Lo=e("i",{class:"bi bi-arrow-right"},null,-1),Mo={__name:"tags",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=J(),p=u([]),v=u(null),g=u(!1),x=u(!1),T=F,U=Q(N,"data"),D=n=>{v.value=n.draggedContext.index},C=n=>{v.value=null},m=()=>{g.value=!0,q.get(`/api/get-home-tags/${L.params.id}`).then(n=>{n.data.status&&(p.value=n.data.data,p.value.filter(d=>U.value.home_amenities.some(a=>{a.tags_id==d.id&&(d.isChecked=!0,d.number=a.tags_number)})),setTimeout(()=>{g.value=!1},400))}).catch(n=>{g.value=!1})},h=n=>{x.value=!0;let d=p.value.filter(a=>a.isChecked).map(a=>({tags_id:a.id,tags_name:a.tags_name,tags_number:Number(a.number)}));q.post("/api/save-home-tags",{amenities:d,home_id:L.params.id}).then(a=>{a.data.status&&(I(a.data.message,"success").show(),setTimeout(()=>{x.value=!1,T("emitCurrentTab","Additional Charges")},400))}).catch(a=>{I(a.response.data.message,"error").show(),x.value=!1})};return ee(()=>{m()}),(n,d)=>{const a=ne("router-link");return g.value?(o(),l("div",ho,fo)):(o(),l(B,{key:1},[p.value.length?(o(),X(r(Z),{key:0,onSubmit:h},{default:E(({errors:S})=>[c(r(ie),{list:p.value,move:D,onEnd:C,filter:".form-check-input, label",class:"row"},{default:E(()=>[(o(!0),l(B,null,z(p.value,(_,s)=>(o(),l("div",{class:b(["col-12 col-md-6 col-lg-4 col-xxl-3 drag-el",{active:v.value==s}])},[e("div",bo,[e("div",{class:b(["form-check form-check-lg form-check-box",{"border-primary":_.isChecked}])},[e("div",$o,[e("div",yo,[c(r(y),{type:"checkbox",class:"form-check-input",name:_.tags_name,id:_.id,value:!0,"unchecked-value":!1,modelValue:_.isChecked,"onUpdate:modelValue":w=>_.isChecked=w},null,8,["name","id","modelValue","onUpdate:modelValue"])]),e("div",wo,[e("label",{for:_.id},P(_.tags_name),9,ko)]),se("",!0)])],2)])],2))),256))]),_:1},8,["list"]),e("div",Vo,[e("div",xo,[e("div",Co,[e("button",To,[x.value?(o(),l("div",Uo)):(o(),l("span",So,"SUBMIT"))])])])])]),_:1})):(o(),l("div",Io,[e("h6",Do,[$("No record found click here to add "),c(a,{class:"icon-link icon-link-hover ff-body",to:{name:"add-amenities"}},{default:E(()=>[$("amenities "),Lo]),_:1})])]))],64))}}},Eo={class:"section"},Ao={key:0,class:"d-flex justify-content-center py-5"},qo=e("div",{class:"spinner-border",role:"status"},null,-1),Fo=[qo],Ro={key:1,class:"outer-wrapper"},Bo={class:"table-wrap"},No={class:"table-responsive"},Oo={class:"table table-list mb-0 mw-lg"},Po=e("thead",null,[e("tr",null,[e("th",{class:"fw-semibold"},"Name"),e("th",{class:"fw-semibold"},"Price"),e("th",{class:"fw-semibold",width:"10%"},"Type"),e("th",{class:"fw-semibold",width:"10%"},"Display on Website"),e("th",{style:{width:"90px"},class:"text-secondary text-center fw-semibold"},"Action")])],-1),Yo={class:"form-group mb-0"},zo={class:"form-group mb-0"},Ho={class:"form-group mb-0"},Go=e("option",{value:"",selected:"",disabled:""},"Type",-1),Wo=["value"],Jo={class:"form-group mb-0"},Ko={class:"form-check form-switch"},Qo={class:"action-btn-group justify-content-center mb-0 mw-0"},Xo=["onClick"],Zo=e("i",{class:"icon-bi bi-trash"},null,-1),jo=[Zo],ea=["onClick"],ta=e("i",{class:"icon-bi bi-trash"},null,-1),sa=[ta],oa={class:"table-footer pt-3"},aa={class:"row align-items-center"},la={class:"col-auto"},na=["onClick","disabled"],ia=e("i",{class:"bi bi-plus-lg me-2"},null,-1),da={class:"table-footer pt-4"},ca={class:"row align-items-center"},ra={class:"col-12"},ua={class:"btn btn-save btn-primary"},_a={key:0,class:"spinner-border spinner-border-sm",role:"status"},ma={key:1},va={__name:"additional-charges",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){var h;const L=J(),p=u(!1),v=u(!1),g=F,T=Q(N,"data"),f=u(["Per_Night","Per_Stay"]);u([]);const U=ve({addMultiItem:[{name:"",price:"",type_option:"",id:"",display_on_website:0}]});(h=T.value.additional_charge)!=null&&h.length&&L.params.id&&(U.addMultiItem=T.value.additional_charge);const D=n=>n[n.length-1].value,C=(n,d)=>{te("Are you sure you want to remove?",a).show();function a(){axios.delete(`/api/delete-additional-charge/${n}`).then(S=>{S.data.status&&(I(S.data.message,"success").show(),setTimeout(()=>{g("emitCurrentTab","Additional Charges")},400))}).catch(S=>{I(S.response.data.message,"error").show()})}},m=n=>{v.value=!0,axios.post("/api/save-additional-charges",{additional_charges:n.addMultiItem,home_id:L.params.id}).then(d=>{d.data.status&&(I(d.data.message,"success").show(),setTimeout(()=>{v.value=!1,g("emitCurrentTab","Gallery")},400))}).catch(d=>{I(d.response.data.message,"error").show(),v.value=!1})};return(n,d)=>(o(),l("section",Eo,[p.value?(o(),l("div",Ao,Fo)):(o(),l("div",Ro,[c(r(Z),{onSubmit:m,"initial-values":U},{default:E(({errors:a})=>[e("div",Bo,[c(r(pe),{name:"addMultiItem"},{default:E(({fields:S,push:_,remove:s})=>[e("div",No,[e("table",Oo,[Po,e("tbody",null,[(o(!0),l(B,null,z(S,(w,A)=>(o(),l("tr",{key:A},[e("td",null,[e("div",Yo,[c(r(y),{name:`name${A}`,type:"text",class:b(["form-control",{"border-danger":a[`name${A}`]}]),modelValue:w.value.name,"onUpdate:modelValue":O=>w.value.name=O,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[e("div",zo,[c(r(y),{name:`price${A}`,type:"number",class:b(["form-control",{"border-danger":a[`price${A}`]}]),modelValue:w.value.price,"onUpdate:modelValue":O=>w.value.price=O,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[e("div",Ho,[c(r(y),{as:"select",name:`type_option_${A}`,class:b(["form-control mw-150",{"border-danger":a[`type_option_${A}`]}]),modelValue:w.value.type_option,"onUpdate:modelValue":O=>w.value.type_option=O,rules:"required"},{default:E(()=>[Go,(o(!0),l(B,null,z(f.value,(O,oe)=>(o(),l("option",{key:oe,value:O},P(O),9,Wo))),128))]),_:2},1032,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[e("div",Jo,[e("div",Ko,[c(r(y),{name:`display-on-website-${A}`,type:"checkbox",class:"form-check-input",modelValue:w.value.display_on_website,"onUpdate:modelValue":O=>w.value.display_on_website=O,value:1,"unchecked-value":0},null,8,["name","modelValue","onUpdate:modelValue"])])])]),e("td",null,[e("ul",Qo,[e("li",null,[w.value.id?(o(),l("button",{key:0,type:"button",onClick:O=>C(w.value.id),class:"btn p-1 fs-5 text-black"},jo,8,Xo)):(o(),l("button",{key:1,type:"button",onClick:O=>s(A),class:"btn p-1 fs-5 text-black"},sa,8,ea))])])])]))),128))])])]),e("div",oa,[e("div",aa,[e("div",la,[e("button",{type:"button",class:"btn btn-save btn-secondary",onClick:w=>_({name:"",price:"",type_option:"",id:"",display_on_website:0}),disabled:!D(S).name||!D(S).price},[ia,$("Add More ")],8,na)])])])]),_:2},1024)]),e("div",da,[e("div",ca,[e("div",ra,[e("button",ua,[v.value?(o(),l("div",_a)):(o(),l("span",ma,"SUBMIT"))])])])])]),_:1},8,["initial-values"])]))]))}},pa={class:"row"},ha={class:"col-12"},ga={class:"form-group"},fa=e("label",null,[$("Images"),e("span",{class:"text-danger"},"*")],-1),ba={class:"upload-info"},$a=e("i",{class:"icon-upload"},null,-1),ya={class:"upload-info-text"},wa=e("strong",null,[$("Drag & Drop Or "),e("span",{class:"text-primary"},"Browse"),$(" Your File.")],-1),ka=e("small",null,"Max size: 2mb | Image size: 1600px . 1080px",-1),Va={class:"text-danger mt-2 fs-12"},xa={class:"col-12"},Ca={class:"image-wrapper"},Ta={class:"row gy-3"},Ua={class:"col-12"},Sa={class:"upload-img"},Ia=["src"],Da=["onClick"],La=e("i",{class:"bi bi-trash"},null,-1),Ma=[La],Ea=e("div",{class:"col-12"},null,-1),Aa={class:"row"},qa={class:"col-12"},Fa={class:"form-group mb-0"},Ra={type:"submit",class:"btn btn-save btn-primary"},Ba={key:0,class:"spinner-border spinner-border-sm",role:"status"},Na={key:1},Oa={__name:"images",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=J(),p=u([]),v=u(null);u();const g=u(!1),x=F,f=Q(N,"data"),U=async(n,d)=>{const a=n.target.files,S=new FormData;for(let _=0;_<a.length;_++)if(Ve(a[_],d)!=!1){S.append("file",a[_]);try{const s=await q.post("/api/upload",S);s.data.status&&p.value.push(s.data)}catch{}await S.delete("file")}n.target.value=null},D=(n,d,a,S)=>{var s;d?te("Are you sure you want to remove?",function(){q.get(`/api/delete-image-video/${d}`).then(A=>{A.data.status&&(p.value.splice(n,1),I(A.data.message,"success").show())}).catch(A=>{I(A.response.data.message,"error").show()})}).show():p.value.splice(n,1);const _=(s=S.multipleImages)==null?void 0:s.filter((w,A)=>A!==n);a({values:{multipleImages:_}})},C=n=>{v.value=n.draggedContext.index},m=n=>{v.value=null},h=()=>{g.value=!0;let n=p.value.map(d=>({filename:d.filename,filepath:d.filepath,default:d.default,title:d.title}));q.post("/api/home-gallery",{type:"image",filename:n,home_id:L.params.id}).then(d=>{d.data.status&&(I(d.data.message,"success").show(),setTimeout(()=>{g.value=!1,x("emitCurrentTab","Videos")},400))}).catch(d=>{I(d.response.data.message,"error").show(),g.value=!1})};return ee(()=>{var n;(n=f.value.home_image)!=null&&n.length&&L.params.id&&W(async()=>{p.value=await f.value.home_image})}),(n,d)=>(o(),X(r(Z),{onSubmit:h},{default:E(({errors:a,values:S,resetForm:_})=>[e("div",pa,[e("div",ha,[e("div",ga,[fa,e("div",{class:b(["upload-wrapper",{"border-danger":a.multipleImages}])},[c(r(y),{type:"file",name:"multipleImages",id:"multipleImages",multiple:"",onChange:s=>U(s,a.multipleImages),accept:"image/*",rules:p.value.length?"image|size:2048|ext:jpg,jpeg,webp,svg,png":"required|image|size:2048|ext:jpg,jpeg,webp,svg,png"},null,8,["onChange","rules"]),e("div",ba,[$a,e("div",ya,[wa,ka,e("small",Va,[c(r(fe),{name:"multipleImages"})])])])],2)])]),e("div",xa,[e("div",Ca,[c(r(ie),{class:"row",list:p.value,move:C,onEnd:m,filter:".form-check-input, button"},{default:E(()=>[(o(!0),l(B,null,z(p.value,(s,w)=>(o(),l("div",{class:b(["col-6 col-sm-4 col-md-3 col-lg-2 drag-el",{active:v.value==w}]),key:w},[e("div",Ta,[e("div",Ua,[e("div",Sa,[e("img",{src:s.filepath,class:"w-100"},null,8,Ia),e("button",{type:"button",onClick:A=>D(w,s.id,_,S),class:"btn btn-light btn-sm"},Ma,8,Da)])]),Ea])],2))),128))]),_:2},1032,["list"])])])]),e("div",Aa,[e("div",qa,[e("div",Fa,[e("button",Ra,[g.value?(o(),l("div",Ba)):(o(),l("span",Na,"SUBMIT"))])])])])]),_:1}))}},Pa={class:"row"},Ya={class:"col-12"},za={class:"form-group"},Ha=e("label",null,"Video",-1),Ga={class:"row"},Wa={class:"col-12"},Ja={class:"form-group mb-0"},Ka={class:"btn btn-save btn-primary"},Qa={key:0,class:"spinner-border spinner-border-sm",role:"status"},Xa={key:1},Za={key:0,class:"row pt-5"},ja=e("div",{class:"col-12"},[e("div",{class:"form-group"},[e("h6",{class:"fw-bold mb-0"},"Uploaded Videos")])],-1),el={class:"col-12"},tl={class:"video-wrapper"},sl={class:"form-group"},ol={class:"video-card"},al={class:"ratio ratio-16x9"},ll=["src"],nl=["onClick"],il=e("i",{class:"bi bi-trash"},null,-1),dl=[il],cl={__name:"video",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=de(()=>ce(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([8,1,2,5,6,9]))),p=J(),v=u([]),g=u({}),x=u(null),T=u(!1),f=F,D=Q(N,"data"),C=a=>{g.value=a},m=(a,S)=>{te("Are you sure you want to remove?",_).show();function _(){q.get(`/api/delete-image-video/${S}`).then(s=>{s.data.status&&(v.value.splice(a,1),I(s.data.message,"success").show())}).catch(s=>{I(s.response.data.message,"error").show()})}},h=a=>{x.value=a.draggedContext.index},n=a=>{x.value=null;let S=v.value.map(_=>_.id);q.post("/api/home-video-position",{type:"video",home_id:p.params.id,position:S}).then(_=>{_.data.status&&I(_.data.message,"success").show()}).catch(_=>{I(_.response.data.message,"error").show()})},d=()=>{T.value=!0,q.post("/api/home-video",{type:"video",filename:g.value.filename,filepath:g.value.filepath,home_id:p.params.id}).then(a=>{a.data.status&&(I(a.data.message,"success").show(),setTimeout(()=>{T.value=!1,f("emitCurrentTab","Reviews")},400))}).catch(a=>{I(a.response.data.message,"error").show(),T.value=!1})};return ee(()=>{var a;(a=D.value.home_video)!=null&&a.length&&p.params.id&&W(async()=>{v.value=await D.value.home_video})}),(a,S)=>(o(),X(r(Z),{onSubmit:d},{default:E(({errors:_,resetForm:s})=>[e("div",Pa,[e("div",Ya,[e("div",za,[Ha,c(r(L),{name:"video",id:"video",fileType:"video",acceptType:"video/mp4",info:"Max size: 200mb",changeText:"To change the video please click / drag new video here!",size:"200",rules:"required|size:204800|ext:mp4",onEmitUploadFile:C})])])]),e("div",Ga,[e("div",Wa,[e("div",Ja,[e("button",Ka,[T.value?(o(),l("div",Qa)):(o(),l("span",Xa,"SUBMIT"))])])])]),v.value.length?(o(),l("div",Za,[ja,e("div",el,[e("div",tl,[c(r(ie),{class:"row",list:v.value,move:h,onEnd:S[0]||(S[0]=()=>x.value=null),onChange:n,filter:"button"},{default:E(()=>[(o(!0),l(B,null,z(v.value,(w,A)=>(o(),l("div",{class:b(["col-12 col-sm-6 col-lg-4 col-xxl-3 drag-el",{active:x.value==A}]),key:A},[e("div",sl,[e("div",ol,[e("div",al,[e("video",{controls:"",src:w.filepath},null,8,ll)]),e("button",{type:"button",class:"btn btn-light btn-sm",onClick:O=>m(A,w.id)},dl,8,nl)])])],2))),128))]),_:1},8,["list"])])])])):se("",!0)]),_:1}))}},rl={class:"row g-5"},ul={class:"col-12 col-xxl-6"},_l={key:0,class:"d-flex justify-content-center py-5"},ml=e("div",{class:"spinner-border",role:"status"},null,-1),vl=[ml],pl={class:"row"},hl={class:"col-6"},gl={class:"form-group"},fl=e("label",{for:""},[$("Guest Name"),e("span",{class:"text-danger"},"*")],-1),bl={class:"col-12 col-md-6"},$l={class:"form-group"},yl=e("label",{for:""},[$("Review Type"),e("span",{class:"text-danger"},"*")],-1),wl=e("option",{value:"",selected:"",disabled:""},"Select Review Type",-1),kl=["value"],Vl={class:"col-12 col-md-6"},xl={class:"form-group"},Cl=e("label",{for:""},[$("Date"),e("span",{class:"text-danger"},"*")],-1),Tl={class:"col-12 col-md-6"},Ul={class:"form-group"},Sl=e("label",{for:""},[$("Rating"),e("span",{class:"text-danger"},"*")],-1),Il=e("option",{value:"",disabled:"",selected:""},"Select Rating",-1),Dl=e("option",{value:"1"},"1",-1),Ll=e("option",{value:"1.5"},"1.5",-1),Ml=e("option",{value:"2"},"2",-1),El=e("option",{value:"2.5"},"2.5",-1),Al=e("option",{value:"3"},"3",-1),ql=e("option",{value:"3.5"},"3.5",-1),Fl=e("option",{value:"4"},"4",-1),Rl=e("option",{value:"4.5"},"4.5",-1),Bl=e("option",{value:"5"},"5",-1),Nl={class:"col-12"},Ol={class:"form-group"},Pl=e("label",{for:""},[$("Comment"),e("span",{class:"text-danger"},"*")],-1),Yl={class:"row"},zl={class:"col-12"},Hl={class:"form-group mb-0"},Gl={type:"submit",class:"btn btn-save btn-primary"},Wl={key:0,class:"spinner-border spinner-border-sm",role:"status"},Jl={key:1},Kl={key:0,class:"col-12 col-xxl-6"},Ql={class:"row"},Xl=e("div",{class:"col-12"},[e("div",{class:"form-group"},[e("h6",{class:"fw-bold mb-0"},"Reviews List")])],-1),Zl={class:"col-12"},jl={class:"table-wrap"},en={class:"table-responsive"},tn={class:"table align-middle mb-0"},sn={width:"45px"},on=e("th",{class:"text-secondary fw-semibold"},"Icon",-1),an=e("th",{class:"text-secondary fw-semibold"},"Review Type",-1),ln=e("th",{class:"text-secondary fw-semibold"},"Guest Name",-1),nn=e("th",{width:"20%",class:"text-secondary fw-semibold"},"Date",-1),dn=e("th",{class:"text-secondary fw-semibold text-center"},"Rating",-1),cn=e("th",{width:"90px",class:"text-secondary fw-semibold text-center"},"Action",-1),rn=["checked","value"],un=["src"],_n={class:"text-center"},mn={class:"action-btn-group justify-content-center mb-0 mw-0"},vn=["onClick"],pn=e("i",{class:"bi bi-pencil-square"},null,-1),hn=[pn],gn=["onClick"],fn=e("i",{class:"icon-bi bi-trash"},null,-1),bn=[fn],$n={class:"table-footer pt-3"},yn={class:"row align-items-center"},wn={class:"col-auto"},kn=["disabled"],Vn={__name:"reviews",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=J();re();const p=u([]),v=u({}),g=u(),x=u(),T=u(!1),f=u(!1),U=u([]),D=u();u({});const C=u([]),m=u(!1),h=u(null),n=u(!1),d=F,S=Q(N,"data"),_=()=>{f.value?(T.value=!0,U.value=[],D.value.forEach(M=>{U.value.push(M.value)})):(T.value=!1,U.value=[])};he(U,(M,k)=>{var H;M.length!=((H=D==null?void 0:D.value)==null?void 0:H.length)?f.value=!1:M.length&&(f.value=!0)});const s=M=>ae(M).format("D MMM, YYYY"),w=M=>{m.value=!0,g.value=M,q.get(`/api/show-home-review/${g.value}`).then(k=>{k.data.status&&(v.value=k.data.data,x.value=v.value.review_date,setTimeout(()=>{m.value=!1},400))}).catch(k=>{m.value=!1})},A=()=>{q.get("/api/review_image").then(M=>{M.data.status&&(C.value=M.data.data)}).catch(M=>{console.log(M)})},O=M=>{te("Are you sure you want to delete?",k).show();function k(){q.post("/api/delete-home-reviews",{home_id:L.params.id,id:M}).then(H=>{H.data.status&&(I(H.data.message,"success").show(),W(()=>{d("emitCurrentTab","Reviews")}))}).catch(H=>{console.log(H)})}},oe=()=>{te("Are you sure you want to delete?",M).show();function M(){q.post("/api/delete-multiple-home-reviews",{ids:U.value}).then(k=>{k.data.status&&(I(k.data.message,"success").show(),W(()=>{d("emitCurrentTab","Reviews")}))}).catch(k=>{console.log(k)})}},le=M=>{n.value=!0,h.value=g.value?`/api/save-home-review/${g.value}`:"/api/save-home-review",q.put(h.value,{home_id:L.params.id,guest_name:M.guest_name,review_date:ae(x.value).format("YYYY-MM-DD"),rating:M.review_rating,comment:M.comment,review_type:M.review_type}).then(k=>{k.data.status&&(g.value?I("Successfully Updated.","success").show():I(k.data.message,"success").show(),setTimeout(()=>{n.value=!1,d("emitCurrentTab","Reviews")},400))}).catch(k=>{I(k.response.data.message,"error").show(),n.value=!1})};return ee(()=>{var M;A(),(M=S.value.home_reviews)!=null&&M.length&&L.params.id&&W(async()=>{p.value=await S.value.home_reviews})}),(M,k)=>{const H=ne("DatePicker");return o(),X(r(Z),{onSubmit:le},{default:E(({errors:V})=>[e("div",rl,[e("div",ul,[m.value?(o(),l("div",_l,vl)):(o(),l(B,{key:1},[e("div",pl,[e("div",hl,[e("div",gl,[fl,c(r(y),{type:"text",name:"guest_name",class:b(["form-control",{"border-danger":V.guest_name}]),modelValue:v.value.guest_name,"onUpdate:modelValue":k[0]||(k[0]=t=>v.value.guest_name=t),rules:"required"},null,8,["class","modelValue"])])]),e("div",bl,[e("div",$l,[yl,c(r(y),{as:"select",name:"review_type",class:b(["form-control",{"border-danger":V.review_type}]),modelValue:v.value.review_type,"onUpdate:modelValue":k[1]||(k[1]=t=>v.value.review_type=t),rules:"required"},{default:E(()=>[wl,(o(!0),l(B,null,z(C.value,(t,Y)=>(o(),l("option",{key:Y,value:t.id},P(t.review_name),9,kl))),128))]),_:2},1032,["class","modelValue"])])]),e("div",Vl,[e("div",xl,[Cl,c(r(y),{name:"date",modelValue:x.value,"onUpdate:modelValue":k[3]||(k[3]=t=>x.value=t),rules:"required"},{default:E(({field:t})=>[c(H,be(t,{modelValue:x.value,"onUpdate:modelValue":k[2]||(k[2]=Y=>x.value=Y),format:s,"enable-time-picker":!1,"max-date":new Date,"input-class-name":`form-control ${V.date?"border-danger":""}`,"prevent-min-max-navigation":"","auto-apply":""}),null,16,["modelValue","max-date","input-class-name"])]),_:2},1032,["modelValue"])])]),e("div",Tl,[e("div",Ul,[Sl,c(r(y),{as:"select",name:"review_rating",class:b(["form-control",{"border-danger":V.review_rating}]),modelValue:v.value.rating,"onUpdate:modelValue":k[4]||(k[4]=t=>v.value.rating=t),rules:"required"},{default:E(()=>[Il,Dl,Ll,Ml,El,Al,ql,Fl,Rl,Bl]),_:2},1032,["class","modelValue"])])]),e("div",Nl,[e("div",Ol,[Pl,c(r(y),{as:"textarea",name:"comment",class:b(["form-control",{"border-danger":V.comment}]),modelValue:v.value.comment,"onUpdate:modelValue":k[5]||(k[5]=t=>v.value.comment=t),rows:"6",rules:"required"},null,8,["class","modelValue"])])])]),e("div",Yl,[e("div",zl,[e("div",Hl,[e("button",Gl,[n.value?(o(),l("div",Wl)):(o(),l("span",Jl,"SUBMIT"))])])])])],64))]),p.value.length?(o(),l("div",Kl,[e("div",Ql,[Xl,e("div",Zl,[e("div",jl,[e("div",en,[e("table",tn,[e("thead",null,[e("tr",null,[e("th",sn,[ue(e("input",{class:"form-check-input form-check-lg mt-0",type:"checkbox","onUpdate:modelValue":k[6]||(k[6]=t=>f.value=t),onChange:_},null,544),[[_e,f.value]])]),on,an,ln,nn,dn,cn])]),e("tbody",null,[(o(!0),l(B,null,z(p.value,(t,Y)=>(o(),l("tr",{key:Y},[e("td",null,[ue(e("input",{class:"form-check-input form-check-lg mt-0",ref_for:!0,ref_key:"selectCheckRef",ref:D,checked:T.value,value:t.id,"onUpdate:modelValue":k[7]||(k[7]=G=>U.value=G),type:"checkbox"},null,8,rn),[[_e,U.value]])]),e("td",null,[e("img",{src:t.review_images&&t.review_images.icon_url?t.review_images.icon_url:M.placeholder,height:"20",alt:"Review Image"},null,8,un)]),e("td",null,P(t&&t.review_images&&t.review_images.review_name),1),e("td",null,P(t.guest_name),1),e("td",null,P(r(ae)(t.review_date).format("D MMM, YYYY")),1),e("td",_n,P(t.rating),1),e("td",null,[e("ul",mn,[e("li",null,[e("button",{type:"button",onClick:G=>w(t.id),class:"btn ps-0 p-1 fs-5 text-black"},hn,8,vn)]),e("li",null,[e("button",{type:"button",onClick:G=>O(t.id),class:"btn p-1 fs-5 text-black"},bn,8,gn)])])])]))),128))])])])]),e("div",$n,[e("div",yn,[e("div",wn,[e("button",{type:"button",class:"btn btn-save btn-primary",onClick:oe,disabled:!f.value&&U.value.length==0||U.value.length==0}," Delete Selected ",8,kn)])])])])])])):se("",!0)])]),_:1})}}},xn={class:"row g-5"},Cn={class:"col-12 col-xxl-6"},Tn={key:0,class:"d-flex justify-content-center py-5"},Un=e("div",{class:"spinner-border",role:"status"},null,-1),Sn=[Un],In={class:"row"},Dn={class:"col-12"},Ln={class:"form-group"},Mn=e("label",{for:""},[$("Name"),e("span",{class:"text-danger"},"*")],-1),En={class:"col-12 col-lg-6"},An={class:"form-group"},qn=e("label",{for:""},[$("Mobile"),e("span",{class:"text-danger"},"*")],-1),Fn={class:"col-12 col-lg-6"},Rn={class:"form-group"},Bn=e("label",{for:""},[$("Email"),e("span",{class:"text-danger"},"*")],-1),Nn={class:"col-12 col-lg-6"},On={class:"form-group"},Pn=e("label",{for:""},[$("Username"),e("span",{class:"text-danger"},"*")],-1),Yn={class:"col-12 col-lg-6"},zn={class:"form-group"},Hn=e("label",{for:""},[$("Password"),e("span",{class:"text-danger"},"*")],-1),Gn={class:"input-group"},Wn={class:"row"},Jn={class:"col-12"},Kn={class:"form-group mb-0"},Qn={type:"submit",class:"btn btn-save btn-primary"},Xn={key:0,class:"spinner-border spinner-border-sm",role:"status"},Zn={key:1},jn={__name:"owner",props:{data:Object},emits:["emitCurrentTab"],setup(N,{emit:F}){const L=J(),p=u(!1),v=u(!1),g=F,T=Q(N,"data"),f=u({}),U=u("password");T.value.owner_detail&&(f.value=T.value.owner_detail);const D=(C,{resetForm:m})=>{v.value=!0,C.id=T.value.owner_detail?T.value.owner_detail.id:"",C.home_id=L.params.id,q.post("/api/save-owner-detail",C).then(h=>{h.data.status&&(I(h.data.message,"success").show(),setTimeout(()=>{v.value=!1,g("emitCurrentTab","Owner Details")},400))}).catch(h=>{I(h.response.data.message,"error").show(),v.value=!1})};return(C,m)=>(o(),X(r(Z),{onSubmit:D},{default:E(({errors:h})=>[e("div",xn,[e("div",Cn,[p.value?(o(),l("div",Tn,Sn)):(o(),l(B,{key:1},[e("div",In,[e("div",Dn,[e("div",Ln,[Mn,c(r(y),{type:"text",name:"name",class:b([{"border-danger":h.name},"form-control"]),rules:"required",modelValue:f.value.name,"onUpdate:modelValue":m[0]||(m[0]=n=>f.value.name=n)},null,8,["class","modelValue"])])]),e("div",En,[e("div",An,[qn,c(r(y),{type:"number",name:"mobile_no",class:b([{"border-danger":h.mobile_no},"form-control"]),rules:"required|numeric|min:10|max:10",modelValue:f.value.mobile_no,"onUpdate:modelValue":m[1]||(m[1]=n=>f.value.mobile_no=n)},null,8,["class","modelValue"])])]),e("div",Fn,[e("div",Rn,[Bn,c(r(y),{type:"text",name:"email",class:b([{"border-danger":h.email},"form-control"]),rules:"required|email",modelValue:f.value.email,"onUpdate:modelValue":m[2]||(m[2]=n=>f.value.email=n)},null,8,["class","modelValue"])])]),e("div",Nn,[e("div",On,[Pn,c(r(y),{type:"text",name:"user_name",class:b([{"border-danger":h.user_name},"form-control"]),rules:"required",modelValue:f.value.user_name,"onUpdate:modelValue":m[3]||(m[3]=n=>f.value.user_name=n)},null,8,["class","modelValue"])])]),e("div",Yn,[e("div",zn,[Hn,e("div",Gn,[c(r(y),{type:U.value,name:"password",class:b([{"border-danger":h.password},"form-control"]),rules:"required",modelValue:f.value.password,"onUpdate:modelValue":m[4]||(m[4]=n=>f.value.password=n)},null,8,["type","class","modelValue"]),e("button",{type:"button",class:"input-group-text",onClick:m[5]||(m[5]=()=>U.value=U.value==="password"?"text":"password")},[e("i",{class:b(["fs-5",{"bi bi-eye-fill":U.value==="password","bi bi-eye-slash-fill":U.value==="text"}])},null,2)])])])])]),e("div",Wn,[e("div",Jn,[e("div",Kn,[e("button",Qn,[v.value?(o(),l("div",Xn)):(o(),l("span",Zn,"SUBMIT"))])])])])],64))])])]),_:1}))}},ei={class:"page-wrap property-add"},ti={class:"page-title mb-4"},si={class:"row gy-3 align-items-center"},oi={class:"col align-self-end"},ai={class:"h2 mb-0"},li={class:"col-auto"},ni=e("i",{class:"icon-list me-2"},null,-1),ii={class:"list-tab list-group mb-4"},di={class:"list-group-item"},ci=["onClick","disabled"],ri={class:"section"},ui={key:0,class:"d-flex justify-content-center py-5"},_i=e("div",{class:"spinner-border",role:"status"},null,-1),mi=[_i],vi={key:1,class:"page-content"},Vi={__name:"add",setup(N){const F=$e("store"),L=re(),p=J(),v=u(!0),g=u({}),x=u(""),T=u(!1),f=u(),U={Overview:_s,Features:Ks,Amenities:po,Tags:Mo,"Additional Charges":va,Gallery:Oa,Videos:cl,Reviews:Vn,"Owner Details":jn},D=C=>{f.value=C||"Overview",F.dispatch("homeCurrentTab",C),T.value=!0;let m;f.value=="Gallery"?m="image":f.value=="Videos"?m="video":f.value=="Tags"?m="Tags":m=f.value.toLowerCase(),setTimeout(()=>{p.params.id?q.get(`/api/home/${p.params.id}`,{params:{type:m}}).then(h=>{h.data.status&&(g.value=h.data.data,x.value=g.value.home_name,g.value.cancellation_policy=g.value.cancellation_policy||"",g.value.location_info=g.value.location_info||"",T.value=!1)}).catch(h=>{T.value=!1,h.response.data.status||L.push({name:"add-home"})}):(g.value=[],v.value=!1,W(),v.value=!0,T.value=!1)})};return he(p,(C,m)=>{C.params.id||D()}),ee(()=>{var C;D((C=F.getters)==null?void 0:C.homeCurrentTab)}),ye(()=>{F.dispatch("homeCurrentTab","")}),(C,m)=>{const h=ne("router-link");return o(),l("div",ei,[e("div",ti,[e("div",si,[e("div",oi,[e("h1",ai,P(r(p).params.id?`Manage Home - ${x.value}`:"Add Home"),1)]),e("div",li,[c(h,{to:{name:"manage-home"},class:"btn rounded-pill btn-secondary-light"},{default:E(()=>[ni,$(" Manage ")]),_:1})])])]),e("ul",ii,[(o(),l(B,null,z(U,(n,d,a)=>e("li",di,[e("button",{class:b({active:f.value===d}),onClick:S=>D(d),disabled:r(p).params.id?!1:a!=0},P(d),11,ci)])),64))]),e("section",ri,[T.value?(o(),l("div",ui,mi)):(o(),l("div",vi,[v.value?(o(),X(we(U[f.value]),{key:0,data:g.value,onEmitCurrentTab:D},null,40,["data"])):se("",!0)]))])])}}};export{Vi as default};
