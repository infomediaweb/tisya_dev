import{j as Be,i as Ne,r as i,p as _e,o as Ue,B as me,a as s,c as l,b as e,e as a,d as v,w as g,I as h,J as he,G as S,H as N,K as d,g as Q,a8 as ve,f as U,t as O,L as pe,F as y,E as m,h as Ye,M as ke,a1 as Le,a2 as Te,x as X}from"./app-Bv7sA21o.js";import{_ as Ee}from"./pagination-B7joSJ4y.js";import{u as $e}from"./debouncedRef-B_9CytHk.js";import{d as ge}from"./modal-WLjbOo64.js";import{d as be,c as G}from"./common-iZsm-le3.js";import{d as D}from"./dayjs.min-CU4dOPv8.js";const o=Y=>(Le("data-v-4bfcb912"),Y=Y(),Te(),Y),Oe={class:"page-wrap property-add"},Ge={class:"page-title mb-4"},We={class:"row gy-3"},ze=o(()=>e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Booking List")],-1)),He={key:0,class:"col-3"},Je={class:"form-group mb-0"},Ke={class:"col text-end"},Qe=o(()=>e("i",{class:"bi bi-plus-lg fs-6 lh-1 me-2"},null,-1)),Xe={class:"col-12"},Ze={class:"search-filter"},je={class:"row gy-3 gx-2"},et={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},tt={class:"form-group mb-0"},ot={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},st={class:"form-group mb-0"},at=o(()=>e("option",{value:"",selected:"",disabled:""},"Created By",-1)),lt=["value"],nt={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},it={class:"form-group mb-0"},ct=o(()=>e("option",{value:"",selected:"",disabled:""},"Property Name",-1)),dt=["value"],ut={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},rt={class:"form-group mb-0"},_t=o(()=>e("option",{value:"",selected:"",disabled:""},"Type",-1)),mt=o(()=>e("option",{value:"checkin"},"Check In",-1)),ht=o(()=>e("option",{value:"checkout"},"Check Out",-1)),vt={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},pt={class:"form-group mb-0"},kt={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},gt={class:"form-group mb-0"},bt=o(()=>e("option",{value:"",selected:"",disabled:""},"Payment Status",-1)),ft=o(()=>e("option",{value:"paid"},"Paid",-1)),yt=o(()=>e("option",{value:"pending"},"Pending",-1)),wt={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},xt={class:"form-group mb-0"},Ct=o(()=>e("option",{value:"",selected:"",disabled:""},"Booking Status",-1)),Vt=o(()=>e("option",{value:"Confirmed"},"Confirmed",-1)),Dt=o(()=>e("option",{value:"Not Confirmed"},"Not Confirmed",-1)),Pt=o(()=>e("option",{value:"Canceled"},"Canceled",-1)),Rt={class:"col-12 col-md-4 col-lg-3 col-xl-2 col-xxl"},Ft={class:"form-group mb-0"},It=o(()=>e("option",{value:"",selected:"",disabled:""},"Channel",-1)),At=o(()=>e("option",{value:"Agoda"},"Agoda",-1)),Mt=o(()=>e("option",{value:"Airbnb"},"Airbnb",-1)),St=o(()=>e("option",{value:"Booking.com"},"Booking.com",-1)),qt=o(()=>e("option",{value:"MakeMyTrip"},"MakeMyTrip",-1)),Bt=o(()=>e("option",{value:"PMS"},"PMS",-1)),Nt=o(()=>e("option",{value:"Website"},"Website",-1)),Ut={class:"col-12 col-md-auto"},Yt={class:"btn-group gap-2"},Lt=["disabled"],Tt=o(()=>e("span",{class:"icon-search"},null,-1)),Et=[Tt],$t=["onClick"],Ot=o(()=>e("span",{class:"bi bi-arrow-clockwise"},null,-1)),Gt=[Ot],Wt=o(()=>e("i",{class:"bi bi-file-earmark-excel me-2 fs-6"},null,-1)),zt={class:"section"},Ht={key:0,class:"d-flex justify-content-center py-5"},Jt=o(()=>e("div",{class:"spinner-border",role:"status"},null,-1)),Kt=[Jt],Qt={key:0,class:"outer-wrapper"},Xt={class:"table-wrap"},Zt={class:"table-responsive"},jt={class:"table table-list-2 align-middle mb-0 mw-lg"},eo=o(()=>e("th",{width:"30"},null,-1)),to=o(()=>e("th",null,"Booking ID",-1)),oo=o(()=>e("th",null,"Created By",-1)),so=o(()=>e("th",null,"Guest Detail",-1)),ao=o(()=>e("th",null,"Booking Detail",-1)),lo=o(()=>e("th",null,"Property Name",-1)),no=o(()=>e("th",null,"Internal Name",-1)),io=o(()=>e("th",null,"Channel",-1)),co=o(()=>e("th",null,"Price",-1)),uo=o(()=>e("th",{nowrap:""},"Payment Status",-1)),ro=o(()=>e("th",null,"Booking Status",-1)),_o={key:0,width:"125"},mo={class:"valignTop"},ho={key:0},vo=["onClick"],po={key:0,class:"bi bi-chevron-up fw-bold fs-6"},ko={key:1,class:"bi bi-chevron-down fw-bold fs-6"},go={key:1},bo={nowrap:""},fo={class:"m-0"},yo=o(()=>e("i",{class:"bi bi-calendar2-check"},null,-1)),wo={nowrap:""},xo={nowrap:""},Co={class:"m-0"},Vo={key:0},Do={key:0},Po={key:1},Ro={key:0},Fo={nowrap:""},Io=o(()=>e("i",{class:"bi bi-calendar2-check"},null,-1)),Ao=o(()=>e("br",null,null,-1)),Mo=o(()=>e("i",{class:"bi bi-moon"},null,-1)),So=o(()=>e("br",null,null,-1)),qo=o(()=>e("i",{class:"bi bi-people"},null,-1)),Bo={key:0},No={nowrap:""},Uo={key:0,class:"text-danger"},Yo=o(()=>e("i",{class:"bi bi-exclamation-diamond-fill"},null,-1)),Lo={key:2,nowrap:""},To={key:0,class:"text-success"},Eo=o(()=>e("i",{class:"bi bi-patch-check-fill"},null,-1)),$o={key:1,class:"text-danger"},Oo=o(()=>e("i",{class:"bi bi-exclamation-diamond-fill"},null,-1)),Go={key:3},Wo=o(()=>e("i",{class:"bi bi-patch-check-fill"},null,-1)),zo=o(()=>e("span",null,"Paid",-1)),Ho={key:4,class:"bookingRow bg-22"},Jo={key:5,class:"bookingRow bg-11"},Ko={key:6},Qo={key:0,class:"action-btn-group mb-0 mw-0"},Xo={key:0},Zo={key:1},jo={key:2},es=["href"],ts={key:3},os=o(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),ss={key:4,class:"pt-1"},as=["onClick"],ls={key:5},ns=["onClick"],is=o(()=>e("i",{class:"icon-bi bi-trash"},null,-1)),cs=[is],ds={key:1,class:"action-btn-group mb-0 mw-0"},us={key:0},rs={key:0},_s={key:0,colspan:"10",class:"p-0",style:{background:"#F1F2E3 !important"}},ms={class:"table bg-transparent toggleTbl mb-0"},hs=o(()=>e("th",{width:"32"},null,-1)),vs=o(()=>e("th",{width:"228"},"Payment Req ID",-1)),ps=o(()=>e("th",null,"Person Detail",-1)),ks=o(()=>e("th",{nowrap:""},"Amount",-1)),gs=o(()=>e("th",null,"Payment Mode",-1)),bs=o(()=>e("th",null,"Status",-1)),fs={key:0},ys=o(()=>e("td",null,null,-1)),ws={nowrap:""},xs={key:0},Cs=["onClick"],Vs={key:1,colspan:"9",style:{background:"#F1F2E3 !important"}},Ds=o(()=>e("span",{class:"text-danger"},"No Payment Request Found!",-1)),Ps=[Ds],Rs={class:"modal",id:"updatePaymentRequestModal"},Fs={class:"modal-dialog modal-dialog-centered"},Is={class:"modal-content"},As=o(()=>e("i",{class:"bi bi-x-lg fs-5"},null,-1)),Ms=[As],Ss=o(()=>e("h5",{class:"modal-title text-white",id:"exampleModalLabel"},"Update Payment Status",-1)),qs={class:"modal-body p-3"},Bs={class:"row"},Ns={class:"col-12 mt-2"},Us={class:"row"},Ys={class:"col-12"},Ls={class:"form-group"},Ts={class:"row gy-4"},Es={class:"col-12"},$s=o(()=>e("label",{for:""},[m("Payment Status"),e("span",{class:"text-danger"},"*")],-1)),Os=o(()=>e("option",{value:"",selected:""},"Choose Status",-1)),Gs=["value"],Ws={class:"row gy-4 mt-1"},zs={class:"col-12"},Hs=o(()=>e("label",{for:""},[m("Note/Bank Detail"),e("span",{class:"text-danger"},"*")],-1)),Js={class:"row pt-1"},Ks={class:"col-12"},Qs={class:"form-group mb-0"},Xs={key:0,class:"spinner-border spinner-border-sm",role:"status"},Zs={key:1},js={class:"table-footer pt-3"},ea={class:"row align-items-center"},ta={key:0,class:"col"},oa={key:1,class:"message text-center"},sa=o(()=>e("h6",{class:"fw-bold"},"No Record Found",-1)),aa=[sa],la={__name:"list",setup(Y){var de,ue;const Z=Ne("store"),c=(de=Z.getters.user)==null?void 0:de.role,W=(ue=Z.getters.user)==null?void 0:ue.id,x=i([]),z=i({}),j=i([]),fe=i(!1),L=i(!1),H=i(!1),ee=i([]),J=i(),ye=$e("",800),P=i(!1);i(),i(),i();const q=i(),w=i(),te=i(),oe=i();i(),i();const se=i(),ae=i(),T=i(),K=i(),we=i(["Pending","Declined","Payment Received"]),C=i(""),le=i(0);i(),D();const xe=i([]),Ce=i();i(),i(),i();const E=i(),R=i(),F=i(),V=i(),I=i(),B=i(),f=i(),ne=i(!1),$=i(),ie=i(),A=i(),ce=i([]),Ve=r=>"https://tisyastays.rentals.management/storage/invoice/"+r.invoice,De=r=>{R.value="",F.value="",V.value="",I.value="",A.value="",r(),X(()=>{M()})},Pe=()=>{ve.getInstance(document.querySelector("#updatePaymentRequestModal")).hide()},Re=(r,n)=>D(n).diff(D(r),"day"),Fe=(r,n)=>{te.value=r.booking_request_id,oe.value=r.id,w.value=r.note,K.value=n,le.value=r.amount,C.value=r.booking_request_status},M=r=>{P.value=!0;let n="",_="";if(E.value&&f.value==null)return ne.value=!0,P.value=!1,!1;f.value&&(n=D(f.value[0]).format("YYYY-MM-DD"),_=D(f.value[1]).format("YYYY-MM-DD")),U.get("/api/property/booking/list/test/"+c+"/"+W,{params:{page:r,booking_id:R.value,property_id:F.value,payment_status:V.value,booking_status:I.value,checkin_date:n,checkout_date:_,channel:B.value,type:E.value,role:c.value,userId:W.value,created_by:A.value}}).then(p=>{p.data.status&&(x.value=p.data.data.data,z.value=p.data.data,j.value=p.data.proeprtyList,ie.value=p.data.disableDatesArray,ce.value=p.data.users,x.value.forEach((t,b)=>{}),setTimeout(()=>{H.value=!1,fe.value=!1,ee.value=[],P.value=!1},400))}).catch(p=>{P.value=!1})};_e(ye,(r,n)=>{P.value=!0}),_e(ee,(r,n)=>{var _;r.length!=((_=J==null?void 0:J.value)==null?void 0:_.length)?H.value=!1:r.length&&(H.value=!0)});const Ie=r=>{T.value=r,q.value!=r?q.value=r:q.value=-1},Ae=r=>{if(se.value=w.value==""||w.value==null?"border-danger":"",ae.value=C.value==""?"border-danger":"",w.value!=""&&C.value!=""){L.value=!0;let n={note:w.value,booking_request_status:C.value,id:oe.value};U.post("/api/property/booking/payment/request/update",n).then(_=>{_.data.status&&setTimeout(()=>{x.value[T.value].payment_requests[K.value].note=w.value,x.value[T.value].payment_requests[K.value].booking_request_status=C.value,x.value[T.value].booking_status=_.data.status,O(_.data.message,"success").show(),ve.getInstance(document.querySelector("#updatePaymentRequestModal")).hide(),L.value=!1},400)}).catch(_=>{O(_.response.data.message,"error").show(),L.value=!1})}},Me=r=>{ge("Are you sure you want to delete?",n).show();function n(){U.delete(`/api/delete-booking/${r}`).then(_=>{_.data.status&&(O(_.data.message,"success").show(),X(()=>{M()}))}).catch(_=>{console.log(_)})}},Se=()=>{let r="",n="";f.value&&(r=D(f.value[0]).format("YYYY-MM-DD"),n=D(f.value[1]).format("YYYY-MM-DD"));let _={booking_id:R.value,property_id:F.value,payment_status:V.value,booking_status:I.value,checkin_date:r,checkout_date:n,channel:B.value,created_by:A.value,role:c.value,userId:W.value};U.post("/api/booking/export",_,{responseType:"blob"}).then(p=>{const t=new Blob([p.data],{type:"application/octet-stream"}),b=window.URL.createObjectURL(t),u=document.createElement("a");u.href=b,u.setAttribute("download","booking.xlsx"),document.body.appendChild(u),u.click(),document.body.removeChild(u)}).catch(p=>{console.log(p)})},qe=r=>{ge("Are you sure you want to cancel this booking?",n).show();function n(){U.get(`/api/cancel/booking/${r}`).then(_=>{_.data.status&&(O(_.data.message,"success").show(),X(()=>{M()}))}).catch(_=>{console.log(_)})}};return Ue(()=>{M()}),(r,n)=>{const _=me("DatePicker"),p=me("router-link");return s(),l("div",Oe,[e("div",Ge,[e("div",We,[ze,a(c)=="Owner"?(s(),l("div",He,[e("div",Je,[v(a(y),{name:"occupancyDateRange",modelValue:$.value,"onUpdate:modelValue":n[1]||(n[1]=t=>$.value=t)},{default:g(({field:t})=>[v(_,pe({"input-class-name":"form-control",ref:"occupancyDateRangeRef"},t,{modelValue:$.value,"onUpdate:modelValue":n[0]||(n[0]=b=>$.value=b),"enable-time-picker":!1,placeholder:"Occupancy",format:a(be),"auto-apply":"",range:"","multi-calendars":"",disabledDates:ie.value,"aria-readonly":"true"}),null,16,["modelValue","format","disabledDates"])]),_:1},8,["modelValue"])])])):h("",!0),e("div",Ke,[a(c)=="Admin"||a(c)=="Reservations"||a(c)=="Finance"?(s(),he(p,{key:0,to:{name:"by-location"},class:"btn rounded-pill btn-secondary-light"},{default:g(()=>[Qe,m(" New Booking ")]),_:1})):h("",!0)]),e("div",Xe,[e("div",Ze,[v(a(Ye),{as:"div"},{default:g(({errors:t,resetForm:b})=>[e("div",je,[e("div",et,[e("div",tt,[v(a(y),{name:"booking_id",type:"text",class:Q(["form-control",{"border-danger":t.booking_id}]),placeholder:"Booking ID",rules:"numeric",modelValue:R.value,"onUpdate:modelValue":n[2]||(n[2]=u=>R.value=u)},null,8,["class","modelValue"])])]),e("div",ot,[e("div",st,[v(a(y),{name:"created_by",as:"select",class:"form-control",modelValue:A.value,"onUpdate:modelValue":n[3]||(n[3]=u=>A.value=u)},{default:g(()=>[at,(s(!0),l(S,null,N(ce.value,(u,k)=>(s(),l("option",{key:k,value:u.id},d(u.name),9,lt))),128))]),_:1},8,["modelValue"])])]),e("div",nt,[e("div",it,[v(a(y),{name:"property_name",as:"select",class:"form-control",modelValue:F.value,"onUpdate:modelValue":n[4]||(n[4]=u=>F.value=u)},{default:g(()=>[ct,(s(!0),l(S,null,N(j.value,(u,k)=>(s(),l("option",{key:k,value:u.id},d(u.home_name),9,dt))),128))]),_:1},8,["modelValue"])])]),e("div",ut,[e("div",rt,[v(a(y),{name:"type",as:"select",class:"form-control",modelValue:E.value,"onUpdate:modelValue":n[5]||(n[5]=u=>E.value=u)},{default:g(()=>[_t,mt,ht]),_:1},8,["modelValue"])])]),e("div",vt,[e("div",pt,[v(a(y),{name:"searchDateRange",modelValue:f.value,"onUpdate:modelValue":n[7]||(n[7]=u=>f.value=u)},{default:g(({field:u})=>[v(_,pe({ref:"searchDateRangeRef"},u,{modelValue:f.value,"onUpdate:modelValue":n[6]||(n[6]=k=>f.value=k),"enable-time-picker":!1,placeholder:"From-To",format:a(be),"auto-apply":"",range:"","multi-calendars":"","input-class-name":ne.value?"form-control border-danger":"form-control"}),null,16,["modelValue","format","input-class-name"])]),_:1},8,["modelValue"])])]),e("div",kt,[e("div",gt,[v(a(y),{name:"payment-status",as:"select",class:"form-control",modelValue:V.value,"onUpdate:modelValue":n[8]||(n[8]=u=>V.value=u)},{default:g(()=>[bt,ft,yt]),_:1},8,["modelValue"])])]),e("div",wt,[e("div",xt,[v(a(y),{name:"booking_status",as:"select",class:"form-control",modelValue:I.value,"onUpdate:modelValue":n[9]||(n[9]=u=>I.value=u)},{default:g(()=>[Ct,Vt,Dt,Pt]),_:1},8,["modelValue"])])]),e("div",Rt,[e("div",Ft,[v(a(y),{name:"channel",as:"select",class:"form-control",modelValue:B.value,"onUpdate:modelValue":n[10]||(n[10]=u=>B.value=u)},{default:g(()=>[It,At,Mt,St,qt,Bt,Nt]),_:1},8,["modelValue"])])]),e("div",Ut,[e("div",Yt,[e("button",{onClick:M,class:"btn btn-primary btn-icon",disabled:!R.value&&!F.value&&!xe.value&&!Ce.value&&!V.value&&!I.value&&!B.value&&!V.value&&!A.value||t.booking_id},Et,8,Lt),e("button",{onClick:u=>De(b),class:"btn btn-icon btn-clear btn-warning"},Gt,8,$t),e("button",{onClick:Se,class:"btn btn-export btn-secondary"},[Wt,m("Export")])])])])]),_:1})])])])]),e("section",zt,[P.value?(s(),l("div",Ht,Kt)):(s(),l(S,{key:1},[x.value.length?(s(),l("div",Qt,[e("div",Xt,[e("div",Zt,[e("table",jt,[e("thead",null,[e("tr",null,[eo,to,oo,so,ao,lo,no,io,co,uo,ro,a(c)=="Admin"||a(c)=="Finance"||a(c)=="Reservations"||a(c)=="Front Office"?(s(),l("th",_o,"Action")):h("",!0)])]),(s(!0),l(S,null,N(x.value,(t,b)=>{var u;return s(),l("tbody",{key:b},[e("tr",mo,[t.booking_from!="ru"?(s(),l("td",ho,[e("a",{href:"javascript:void(0)",class:"bookingDetail fw-bold",onClick:k=>Ie(b)},[b==q.value?(s(),l("i",po)):(s(),l("i",ko))],8,vo)])):(s(),l("td",go)),e("td",bo,[e("h6",fo,d(t.booking_id),1),e("small",null,[yo,m(" "+d(t.created_at),1)])]),e("td",wo,d((u=t.user)==null?void 0:u.name),1),e("td",xo,[e("h6",Co,d(t.customer_detail.first_name)+" "+d(t.customer_detail.last_name),1),t.channel!=="Airbnb"?(s(),l("small",Vo,[t.customer_detail.country_code?(s(),l("span",Do,d(t.customer_detail.country_code)+" - ",1)):h("",!0),m(" "+d(t.customer_detail.mobile_number)+" | "+d(t.customer_detail.email),1)])):(s(),l("small",Po,[t.customer_detail.country_code?(s(),l("span",Ro,d(t.customer_detail.country_code)+" - ",1)):h("",!0),m(" "+d(t.customer_detail.mobile_number)+" | N/A ",1)]))]),e("td",Fo,[Io,m(" Check-in: "+d(t.checkin_date)+" | Check-out: "+d(t.checkout_date),1),Ao,Mo,m(" No. of nights: "+d(Re(t.checkin_date,t.checkout_date)),1),So,qo,m(" No. of guests: "+d(t.no_of_adult)+" Adult",1),t.no_of_adult>1?(s(),l("span",Bo,"s")):h("",!0),m(" | "+d(t.no_of_children)+" Children ",1)]),e("td",null,d(t.home_name),1),e("td",null,d(t.internal_name),1),e("td",null,d(t.channel),1),e("td",No,[e("b",null,"INR "+d(a(G)(t.payable_amount)),1),t.payable_amount>t.paid_amount&&t.booking_from!="ru"?(s(),l("div",Uo,[Yo,m(),e("b",null,"INR "+d(a(G)(t.payable_amount-t.paid_amount)),1)])):h("",!0)]),t.booking_from!="ru"?(s(),l("td",Lo,[t.booking_status=="Paid"||t.booking_status=="paid"?(s(),l("h6",To,[Eo,m(),e("span",null,d(t.booking_status),1)])):(s(),l("h6",$o,[Oo,m(),e("span",null,d(t.booking_status),1)]))])):(s(),l("td",Go,[Wo,m(),zo])),t.property_booking_status=="Confirmed"?(s(),l("td",Ho,d(t.property_booking_status),1)):(s(),l("td",Jo,d(t.property_booking_status),1)),a(c)=="Admin"||a(c)=="Reservations"||a(c)=="Finance"||a(c)=="Front Office"?(s(),l("td",Ko,[t.booking_from!="ru"?(s(),l("ul",Qo,[t.payable_amount>t.paid_amount&&(a(c)=="Admin"||a(c)=="Finance")&&t.property_booking_status!="Canceled"?(s(),l("li",Xo,[v(p,{to:{name:"booking/payment-request",params:{id:t.id}},class:"btn btn-sm btn-save btn-primary"},{default:g(()=>[m(" Payment Request ")]),_:2},1032,["to"])])):h("",!0),(t.property_booking_status=="Confirmed"&&a(c)=="Admin"||a(c)=="Finance"||a(c)=="Reservations"||a(c)=="Front Office")&&!t.invoice&&t.property_booking_status=="Confirmed"?(s(),l("li",Zo,[v(p,{to:{name:"booking/checkin",params:{id:t.id}},class:"btn btn-sm btn-save btn-info"},{default:g(()=>[m(" Check In ")]),_:2},1032,["to"])])):h("",!0),t.invoice&&t.property_booking_status!="Canceled"?(s(),l("li",jo,[e("a",{href:Ve(t),class:"btn btn-sm btn-save btn-info",target:"blank"}," Download Invoice ",8,es)])):h("",!0),a(c)!="Reservations"&&a(c)!="Front Office"&&t.property_booking_status!="Canceled"?(s(),l("li",ts,[v(p,{to:{name:t.type=="Location"?"by-location":"by-property",params:{id:t.id}},class:"btn ps-0 p-1 fs-5 text-black"},{default:g(()=>[os]),_:2},1032,["to"])])):h("",!0),a(c)=="Admin"&&t.booking_from!="ru"&&t.property_booking_status!="Canceled"?(s(),l("li",ss,[e("a",{class:"btn btn-success btn-save btn-sm bg-danger",onClick:k=>qe(t.id)},"Cancel",8,as)])):h("",!0),a(c)=="Admin"||a(c)=="Finance"?(s(),l("li",ls,[e("button",{onClick:ke(k=>Me(t.id),["prevent"]),class:"btn p-1 fs-5 text-black"},cs,8,ns)])):h("",!0)])):(s(),l("ul",ds,[(a(c)=="Admin"||a(c)=="Finance"||a(c)=="Reservations"||a(c)=="Front Office")&&!t.invoice?(s(),l("li",us,[v(p,{to:{name:"booking/checkin",params:{id:t.id}},class:"btn btn-sm btn-save btn-info"},{default:g(()=>[m(" Check In ")]),_:2},1032,["to"])])):h("",!0)]))])):h("",!0)]),b==q.value&&a(c)=="Admin"||a(c)=="Finance"||a(c)=="Front Office"?(s(),l("tr",rs,[t.payment_requests.length!=0?(s(),l("td",_s,[e("table",ms,[e("thead",null,[e("tr",null,[hs,vs,ps,ks,gs,bs,a(c)=="Admin"||a(c)=="Finance"?(s(),l("th",fs,"Action")):h("",!0)])]),e("tbody",null,[(s(!0),l(S,null,N(t.payment_requests,(k,re)=>(s(),l("tr",{key:re,class:"bookingRow"},[ys,e("td",null,d(k.booking_request_id),1),e("td",null,[m(d(k.name)+" (",1),e("small",null,d(k.email),1),m(") ")]),e("td",ws,[e("b",null,"INR "+d(a(G)(k.amount)),1)]),e("td",null,d(k.payment_mode),1),e("td",null,d(k.booking_request_status),1),a(c)=="Admin"||a(c)=="Finance"?(s(),l("td",xs,[k.booking_request_status=="Pending"?(s(),he(p,{key:0,to:{name:"booking/payment-request-edit",params:{id:k.id}},class:"btn btn-sm btn-save btn-primary me-2"},{default:g(()=>[m(" Edit ")]),_:2},1032,["to"])):h("",!0),e("a",{href:"javascript:void(0)",class:"btn btn-sm btn-save btn-dark","data-bs-toggle":"modal","data-bs-target":"#updatePaymentRequestModal",onClick:ke(na=>Fe(k,re),["prevent"])},"Change Status",8,Cs)])):h("",!0)]))),128))])])])):(s(),l("td",Vs,Ps))])):h("",!0)])}),128))])])]),e("div",Rs,[e("div",Fs,[e("div",Is,[e("div",{class:"modal-header bg-primary"},[e("a",{href:"javascript:void(0)",class:"closeModel",onClick:Pe},Ms),Ss]),e("div",qs,[e("div",Bs,[e("h4",null,"Payment Req ID - "+d(te.value),1),e("h4",null,"Amount - INR "+d(a(G)(le.value)),1),e("div",Ns,[e("div",Us,[e("div",Ys,[e("div",Ls,[e("div",Ts,[e("div",Es,[$s,v(a(y),{class:Q(["form-control",ae.value]),name:"paymentStatus",as:"select",rules:"required",modelValue:C.value,"onUpdate:modelValue":n[11]||(n[11]=t=>C.value=t)},{default:g(()=>[Os,(s(!0),l(S,null,N(we.value,(t,b)=>(s(),l("option",{value:t},d(t),9,Gs))),256))]),_:1},8,["class","modelValue"])])]),e("div",Ws,[e("div",zs,[Hs,v(a(y),{as:"textarea",name:"note",class:Q(["form-control",se.value]),rows:"8",rules:"required",modelValue:w.value,"onUpdate:modelValue":n[12]||(n[12]=t=>w.value=t)},null,8,["class","modelValue"])])])])])])])]),e("div",Js,[e("div",Ks,[e("div",Qs,[e("button",{class:"btn btn-save btn-primary",onClick:Ae},[L.value?(s(),l("div",Xs)):(s(),l("span",Zs,"SUBMIT"))])])])])])])])]),e("div",js,[e("div",ea,[z.value.last_page>1?(s(),l("div",ta,[v(Ee,{links:z.value.links,onPagination:M},null,8,["links"])])):h("",!0)])])])):(s(),l("div",oa,aa))],64))])])}}},ma=Be(la,[["__scopeId","data-v-4bfcb912"]]);export{ma as default};
