import{r as d,p as w,o as M,B as R,a as n,c as i,b as e,C as b,N as $,e as E,Z as I,d as k,w as x,G as C,X as V,H as U,I as F,f as p,E as q,K as G,t as y,x as N}from"./app-Bv7sA21o.js";import{_ as H}from"./pagination-B7joSJ4y.js";import{u as K}from"./debouncedRef-B_9CytHk.js";import{d as S}from"./modal-WLjbOo64.js";const P={class:"page-wrap property-add"},Q={class:"page-title mb-4"},X={class:"row gy-3 align-items-center"},Z=e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Tags List")],-1),z={class:"col-12 col-lg-4"},J={class:"input-group input-icon"},O=e("span",{class:"icon-search"},null,-1),W={class:"col-auto"},Y=e("i",{class:"bi bi-plus-lg fs-6 lh-1 me-2"},null,-1),j={class:"section"},ee={key:0,class:"d-flex justify-content-center py-5"},te=e("div",{class:"spinner-border",role:"status"},null,-1),se=[te],ae={key:0,class:"outer-wrapper"},le={class:"table-wrap"},oe={class:"table-responsive"},ce={class:"table table-list mb-0 mw-lg"},ne={width:"45px"},ie=e("th",{class:"fw-semibold"},"Name",-1),de=e("th",{width:"20%",class:"text-secondary fw-semibold"},"Status",-1),ue=e("th",{style:{width:"90px"},class:"text-secondary fw-semibold"},"Action",-1),re=["checked","value"],he={class:"form-check form-switch"},_e=["checked","onChange"],ve={class:"action-btn-group mb-0 mw-0"},pe=e("i",{class:"bi bi-pencil-square"},null,-1),me=["onClick"],fe=e("i",{class:"icon-bi bi-trash"},null,-1),ge=[fe],be={class:"table-footer pt-3"},ke={class:"row align-items-center"},ye={class:"col-auto"},we=["disabled"],xe={key:0,class:"col"},Ce={key:1,class:"message text-center"},Ve=e("h6",{class:"fw-bold"},"No Record Found",-1),Ne=[Ve],De={__name:"list",setup(Se){const m=d([]),r=d({}),h=d(!1),c=d(!1),l=d([]),_=d(),v=K("",800),u=d(!1),f=a=>{u.value=!0,p.get("/api/tags",{params:{page:a,search:v.value}}).then(t=>{t.data.status&&(m.value=t.data.data.data,r.value=t.data.data,setTimeout(()=>{c.value=!1,h.value=!1,l.value=[],u.value=!1},400))}).catch(t=>{u.value=!1})};w(v,(a,t)=>{u.value=!0,p.get("/api/tags",{params:{search:a}}).then(s=>{s.data.status&&(m.value=s.data.data.data,r.value=s.data.data,setTimeout(()=>{c.value=!1,h.value=!1,l.value=[],u.value=!1},200))}).catch(s=>{console.log(s)})});const T=()=>{c.value?(h.value=!0,l.value=[],_.value.forEach(a=>{l.value.push(a.value)})):(h.value=!1,l.value=[])};w(l,(a,t)=>{var s;a.length!=((s=_==null?void 0:_.value)==null?void 0:s.length)?c.value=!1:a.length&&(c.value=!0)});const A=a=>{S("Are you sure you want to delete?",t).show();function t(){p.delete(`/api/tags/${a}`).then(s=>{s.data.status&&(y(s.data.message,"success").show(),N(()=>{f()}))}).catch(s=>{console.log(s)})}},L=()=>{S("Are you sure you want to delete?",a).show();function a(){p.post("/api/tags-delete-multiple",{ids:l.value}).then(t=>{t.data.status&&(y(t.data.message,"success").show(),N(()=>{f()}))}).catch(t=>{console.log(t)})}},B=(a,{target:t})=>{p.post(`/api/tags-update-status/${a}`,{status:Number(t.checked)}).then(s=>{s.data.status&&y(s.data.message,"success").show()}).catch(s=>{console.log(s)})};return M(()=>{f()}),(a,t)=>{const s=R("router-link");return n(),i("div",P,[e("div",Q,[e("div",X,[Z,e("div",z,[e("div",J,[O,b(e("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=o=>I(v)?v.value=o:null),placeholder:"Search by name"},null,512),[[$,E(v)]])])]),e("div",W,[k(s,{to:{name:"add-tags"},class:"btn rounded-pill btn-secondary-light"},{default:x(()=>[Y,q(" Add Tags ")]),_:1})])])]),e("section",j,[u.value?(n(),i("div",ee,se)):(n(),i(C,{key:1},[m.value.length?(n(),i("div",ae,[e("div",le,[e("div",oe,[e("table",ce,[e("thead",null,[e("tr",null,[e("th",ne,[b(e("input",{class:"form-check-input form-check-lg mt-0",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=o=>c.value=o),onChange:T},null,544),[[V,c.value]])]),ie,de,ue])]),e("tbody",null,[(n(!0),i(C,null,U(m.value,(o,D)=>(n(),i("tr",{key:D},[e("td",null,[b(e("input",{class:"form-check-input form-check-lg mt-0",ref_for:!0,ref_key:"selectCheckRef",ref:_,checked:h.value,value:o.id,"onUpdate:modelValue":t[2]||(t[2]=g=>l.value=g),type:"checkbox"},null,8,re),[[V,l.value]])]),e("td",null,G(o.tags_name),1),e("td",null,[e("div",he,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"s1",checked:o.status==1,onChange:g=>B(o.id,g),"true-value":"1","false-value":"0"},null,40,_e)])]),e("td",null,[e("ul",ve,[e("li",null,[k(s,{to:{name:"add-tags",params:{id:o.id}},class:"btn ps-0 p-1 fs-5 text-black"},{default:x(()=>[pe]),_:2},1032,["to"])]),e("li",null,[e("button",{onClick:g=>A(o.id),class:"btn p-1 fs-5 text-black"},ge,8,me)])])])]))),128))])])])]),e("div",be,[e("div",ke,[e("div",ye,[e("button",{class:"btn btn-save btn-primary",onClick:L,disabled:!c.value&&l.value.length==0||l.value.length==0||r.value.total==0}," Delete Selected ",8,we)]),r.value.last_page>1?(n(),i("div",xe,[k(H,{links:r.value.links,onPagination:f},null,8,["links"])])):F("",!0)])])])):(n(),i("div",Ce,Ne))],64))])])}}};export{De as default};
