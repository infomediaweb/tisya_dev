function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/multi-select-Dla7bimF.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/multi-select-Vek3NNQL.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{z as C,u as M,r as i,o as P,B as A,a as u,c,b as e,K as T,e as l,d as n,w,f as k,t as S,E as r,F as _,g as m,I as q,h as B,R as L,S as N}from"./app-Bv7sA21o.js";import"./dayjs.min-CU4dOPv8.js";const I={class:"page-wrap property-add"},D={class:"page-title mb-4"},z={class:"row gy-3 align-items-center"},$={class:"col align-self-end"},j={class:"h2 mb-0"},K={class:"col-auto"},G=e("i",{class:"icon-list me-2"},null,-1),H={class:"section"},J={key:0,class:"d-flex justify-content-center py-5"},Q=e("div",{class:"spinner-border",role:"status"},null,-1),W=[Q],X={key:1,class:"page-content"},Y={class:"row"},Z={class:"col-12 col-lg-10 col-xl-6"},ee={class:"row"},se={class:"col-12"},oe={class:"form-group"},te=e("label",{for:""},[r("Role"),e("span",{class:"text-danger"},"*")],-1),ae=e("option",{value:"",selected:"",disabled:""},"Select Role",-1),le=e("option",{value:"Admin"},"Admin",-1),ne=e("option",{value:"Front Office"},"Front Office",-1),ie=e("option",{value:"Finance"},"Finance",-1),re=e("option",{value:"Owner"},"Owner",-1),de=e("option",{value:"Reservations"},"Reservations",-1),ue={key:0,class:"col-12"},ce={class:"form-group"},_e=e("label",{for:""},[r("Property "),e("small",null,"(Multiple Selection)")],-1),me={class:"col-12 col-lg-6"},pe={class:"form-group"},ve=e("label",{for:""},[r("Name"),e("span",{class:"text-danger"},"*")],-1),fe={class:"col-12 col-lg-6"},he={class:"form-group"},be=e("label",{for:""},[r("Email"),e("span",{class:"text-danger"},"*")],-1),ge={class:"col-12 col-lg-6"},ye={class:"form-group"},we=e("label",{for:""},[r("Mobile"),e("span",{class:"text-danger"},"*")],-1),Ve={class:"col-12 col-lg-6"},xe={class:"form-group"},ke=e("label",{for:""},[r("Password"),e("span",{class:"text-danger"},"*")],-1),Se={class:"input-group"},Ue={class:"row pt-2"},Ee={class:"col-12"},Fe={class:"form-group mb-0"},Oe={class:"btn btn-save btn-primary"},Re={key:0,class:"spinner-border spinner-border-sm",role:"status"},Ce={key:1},Te={__name:"add",setup(Me){const U=L(()=>N(()=>import("./multi-select-Dla7bimF.js"),__vite__mapDeps([0,1,2,3]))),f=C(),E=M(),a=i({}),x=i(null),h=i(!1),b=i(!1),V=i([]),g=i([]),y=i(!1),p=i("password"),F=o=>{o.target.value=="Owner"?y.value=!0:y.value=!1},O=()=>{h.value=!0,k.get(`/api/user-detail/${f.params.id}`).then(o=>{o.data.status&&(o.data.data&&(o.data.data.role=="Owner"&&(y.value=!0),a.value=o.data.data),V.value=o.data.propertyList,V.value.forEach(s=>{s.user_id&&g.value.push(s.id)}),setTimeout(()=>{h.value=!1},400))}).catch(o=>{h.value=!1,console.log(o)})},R=(o,{resetForm:s})=>{b.value=!0,x.value=f.params.id?`/api/save-user-detail/${f.params.id}`:"/api/save-user-detail",k.post(x.value,{role:o.user_role,name:o.user_name,email:o.user_email,mobile_no:o.user_mobile_no,password:o.user_password,mappedProperties:g.value}).then(d=>{d.data.status&&(S(d.data.message,"success").show(),setTimeout(()=>{b.value=!1,E.push({name:"list-user"})},400))}).catch(d=>{S(d.response.data.message,"error").show(),b.value=!1})};return P(()=>{O()}),(o,s)=>{const d=A("router-link");return u(),c("div",I,[e("div",D,[e("div",z,[e("div",$,[e("h1",j,T(l(f).params.id?"Modify User":"Add User"),1)]),e("div",K,[n(d,{to:{name:"list-user"},class:"btn rounded-pill btn-secondary-light"},{default:w(()=>[G,r(" Manage ")]),_:1})])])]),e("section",H,[h.value?(u(),c("div",J,W)):(u(),c("div",X,[n(l(B),{action:"",onSubmit:R},{default:w(({errors:v})=>[e("div",Y,[e("div",Z,[e("div",ee,[e("div",se,[e("div",oe,[te,n(l(_),{class:m(["form-control",{"border-danger":v.user_role}]),name:"user_role",as:"select",rules:"required",modelValue:a.value.role,"onUpdate:modelValue":s[0]||(s[0]=t=>a.value.role=t),onChange:s[1]||(s[1]=t=>F(t))},{default:w(()=>[ae,le,ne,ie,re,de]),_:2},1032,["class","modelValue"])])]),y.value?(u(),c("div",ue,[e("div",ce,[_e,n(l(_),{as:"div",name:"property_name",class:"dropdown form-multiselect"},{default:w(()=>[n(l(U),{items:V.value,"item-name":"home_name","item-id":"id",name:"ckb-pn",placeholder:"Select Property",modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=t=>g.value=t)},null,8,["items","modelValue"])]),_:1})])])):q("",!0),e("div",me,[e("div",pe,[ve,n(l(_),{type:"text",name:"user_name",class:m([{"border-danger":v.user_name},"form-control"]),rules:"required",modelValue:a.value.name,"onUpdate:modelValue":s[3]||(s[3]=t=>a.value.name=t)},null,8,["class","modelValue"])])]),e("div",fe,[e("div",he,[be,n(l(_),{type:"text",name:"user_email",class:m([{"border-danger":v.user_email},"form-control"]),rules:"required|email",modelValue:a.value.email,"onUpdate:modelValue":s[4]||(s[4]=t=>a.value.email=t)},null,8,["class","modelValue"])])]),e("div",ge,[e("div",ye,[we,n(l(_),{type:"number",name:"user_mobile_no",class:m([{"border-danger":v.user_mobile_no},"form-control"]),rules:"required|numeric",modelValue:a.value.mobile_no,"onUpdate:modelValue":s[5]||(s[5]=t=>a.value.mobile_no=t)},null,8,["class","modelValue"])])]),e("div",Ve,[e("div",xe,[ke,e("div",Se,[n(l(_),{type:p.value,name:"user_password",class:m([{"border-danger":v.user_password},"form-control"]),rules:"required",modelValue:a.value.pass,"onUpdate:modelValue":s[6]||(s[6]=t=>a.value.pass=t)},null,8,["type","class","modelValue"]),e("button",{type:"button",class:"input-group-text",onClick:s[7]||(s[7]=()=>p.value=p.value==="password"?"text":"password")},[e("i",{class:m(["fs-5",{"bi bi-eye-fill":p.value==="password","bi bi-eye-slash-fill":p.value==="text"}])},null,2)])])])])])])]),e("div",Ue,[e("div",Ee,[e("div",Fe,[e("button",Oe,[b.value?(u(),c("div",Re)):(u(),c("span",Ce,"SUBMIT"))])])])])]),_:1})]))])])}}};export{Te as default};
