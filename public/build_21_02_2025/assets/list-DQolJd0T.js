import{r as d,p as B,o as E,B as M,a as c,c as i,b as e,d as w,w as g,G as k,C as y,X as x,H as D,f as v,E as O,K as f,t as b,x as C}from"./app-Bv7sA21o.js";import{d as A}from"./modal-WLjbOo64.js";const T={class:"page-wrap property-add"},$={class:"page-title mb-4"},F={class:"row gy-3 align-items-center"},I=e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Owner List")],-1),U={class:"col-auto"},q=e("i",{class:"bi bi-plus-lg fs-6 lh-1 me-2"},null,-1),G={class:"section"},H={key:0,class:"d-flex justify-content-center py-5"},K=e("div",{class:"spinner-border",role:"status"},null,-1),R=[K],X={key:0,class:"outer-wrapper"},z={class:"table-wrap"},J={class:"table-responsive"},P={class:"table align-middle mb-0 mw-lg"},Q={width:"45px"},W=e("th",{width:"25%",class:"text-secondary fw-semibold"},"Name",-1),Y=e("th",{class:"text-secondary fw-semibold"},"Email",-1),Z=e("th",{class:"text-secondary fw-semibold"},"Mobile",-1),j=e("th",{class:"text-secondary fw-semibold"},"Status",-1),ee=e("th",{style:{width:"90px"},class:"text-secondary fw-semibold"},"Action",-1),te=["checked","value"],se={class:"form-check form-switch"},le=["checked","onChange"],oe={class:"action-btn-group mb-0 mw-0"},ae=e("i",{class:"bi bi-pencil-square"},null,-1),ne=["onClick"],ce=e("i",{class:"icon-bi bi-trash"},null,-1),ie=[ce],de={class:"table-footer pt-3"},ue={class:"row align-items-center"},re={class:"col-auto"},he=["disabled"],_e={key:1,class:"message text-center"},ve=e("h6",{class:"fw-bold"},"No Record Found",-1),me=[ve],ge={__name:"list",setup(pe){const m=d([]),r=d(!1),n=d(!1),o=d([]),u=d(),h=d(!1),p=()=>{h.value=!0,v.get("/api/owner-list").then(t=>{t.data.status&&(m.value=t.data.data,setTimeout(()=>{n.value=!1,r.value=!1,o.value=[],h.value=!1},400))}).catch(t=>{h.value=!1})},N=()=>{n.value?(r.value=!0,o.value=[],u.value.forEach(t=>{o.value.push(t.value)})):(r.value=!1,o.value=[])};B(o,(t,l)=>{var s;t.length!=((s=u==null?void 0:u.value)==null?void 0:s.length)?n.value=!1:t.length&&(n.value=!0)});const S=t=>{A("Are you sure you want to delete?",l).show();function l(){v.delete(`/api/delete-owner/${t}`).then(s=>{s.data.status&&(b(s.data.message,"success").show(),C(()=>{p()}))}).catch(s=>{console.log(s)})}},V=()=>{A("Are you sure you want to delete?",t).show();function t(){v.post("/api/delete-multiple-owner",{ids:o.value}).then(l=>{l.data.status&&(b(l.data.message,"success").show(),C(()=>{p()}))}).catch(l=>{console.log(l)})}},L=(t,{target:l})=>{v.post(`/api/owner-update-status/${t}`,{status:Number(l.checked)}).then(s=>{s.data.status&&b(s.data.message,"success").show()}).catch(s=>{console.log(s)})};return E(()=>{p()}),(t,l)=>{const s=M("router-link");return c(),i("div",T,[e("div",$,[e("div",F,[I,e("div",U,[w(s,{to:{name:"add-owner"},class:"btn rounded-pill btn-secondary-light"},{default:g(()=>[q,O(" Add Owner ")]),_:1})])])]),e("section",G,[h.value?(c(),i("div",H,R)):(c(),i(k,{key:1},[m.value.length?(c(),i("div",X,[e("div",z,[e("div",J,[e("table",P,[e("thead",null,[e("tr",null,[e("th",Q,[y(e("input",{class:"form-check-input form-check-lg mt-0",type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=a=>n.value=a),onChange:N},null,544),[[x,n.value]])]),W,Y,Z,j,ee])]),e("tbody",null,[(c(!0),i(k,null,D(m.value,(a,fe)=>(c(),i("tr",null,[e("td",null,[y(e("input",{class:"form-check-input form-check-lg mt-0",ref_for:!0,ref_key:"selectCheckRef",ref:u,checked:r.value,value:a.id,"onUpdate:modelValue":l[1]||(l[1]=_=>o.value=_),type:"checkbox"},null,8,te),[[x,o.value]])]),e("td",null,f(a.name),1),e("td",null,f(a.email),1),e("td",null,f(a.mobile_no),1),e("td",null,[e("div",se,[e("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"s1",checked:a.status==1,onChange:_=>L(a.id,_),"true-value":"1","false-value":"0"},null,40,le)])]),e("td",null,[e("ul",oe,[e("li",null,[w(s,{to:{name:"add-owner",params:{id:a.id}},class:"btn ps-0 p-1 fs-5 text-black"},{default:g(()=>[ae]),_:2},1032,["to"])]),e("li",null,[e("button",{onClick:_=>S(a.id),class:"btn p-1 fs-5 text-black"},ie,8,ne)])])])]))),256))])])])]),e("div",de,[e("div",ue,[e("div",re,[e("button",{class:"btn btn-save btn-primary",onClick:V,disabled:!n.value&&o.value.length==0||o.value.length==0}," Delete Selected ",8,he)])])])])):(c(),i("div",_e,me))],64))])])}}};export{ge as default};
