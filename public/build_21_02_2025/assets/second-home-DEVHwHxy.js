function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as m,o as b,a as n,c as d,b as e,d as c,w as E,e as r,f as v,t as u,F as p,g as h,G as F,H as k,h as I,E as f,R as P,S}from"./app-Bv7sA21o.js";const z={class:"page-wrap"},N=e("div",{class:"page-title mb-4"},[e("div",{class:"row gy-3 align-items-center"},[e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Second Home")])])],-1),B={class:"section"},D={key:0,class:"d-flex justify-content-center py-5"},H=e("div",{class:"spinner-border",role:"status"},null,-1),L=[H],R={key:1,class:"page-content"},q={class:"row"},C={class:"col-12"},M={class:"row"},A={class:"col-12"},G={class:"form-group"},O=e("label",{for:""},[f("Title"),e("span",{class:"text-danger"},"*")],-1),J={class:"col-12"},K={class:"form-group"},Q=e("label",{for:""},"Introduction",-1),W={class:"col-12"},X={class:"row nth-row g-4"},Y={class:"col-12 col-lg-6"},Z={class:"multi-row"},j={class:"row"},ee={class:"col-12"},se={class:"row"},ae={class:"col-12"},te={class:"form-group"},oe=e("label",{for:""},[f("Image"),e("span",{class:"text-danger"},"*")],-1),le={class:"col-12"},ie={class:"form-group"},ne=e("label",{for:""},[f("Title"),e("span",{class:"text-danger"},"*")],-1),de={class:"col-12"},ce={class:"form-group mb-0"},re=e("label",{for:""},"Description",-1),me={class:"row pt-4"},ue={class:"col-12"},_e={class:"form-group mb-0"},ge={type:"submit",class:"btn btn-save btn-primary"},pe={key:0,class:"spinner-border spinner-border-sm",role:"status"},ve={key:1},$e={__name:"second-home",setup(he){const x=P(()=>S(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),V=m(),w=m({}),t=m({}),_=m(!1),g=m(!1),y=async(o,s)=>{w.value[s]=await o.filename},$=async()=>{_.value=!0,await v.get("/api/second-home").then(o=>{if(o.data.status){t.value=o.data.data;for(let s=1;s<4;s++)t.value[`image${s}`]?t.value[`imagePath${s}`]=t.value.image_path:t.value[`imagePath${s}`]="";setTimeout(()=>{_.value=!1},400)}}).catch(o=>{o.response.data.message&&u(o.response.data.message,"error").show(),_.value=!1})},U=(o,s)=>{v.post("/api/second-home-delete-image",{fieldName:o,imageName:s}).then(l=>{l.data.status&&(u(l.data.message,"success").show(),t.value[o]="")}).catch(l=>{u(l.response.data.message,"error").show()})},T=o=>{g.value=!0;for(let s=1;s<4;s++)o[`image${s}`]=w.value[`image${s}`];v.post("/api/second-home",o).then(s=>{s.data.status&&(u(s.data.message,"success").show(),setTimeout(()=>{g.value=!1,$()},400))}).catch(s=>{u(s.response.data.message,"error").show(),g.value=!1})};return b(()=>{$()}),(o,s)=>(n(),d("div",z,[N,e("section",B,[_.value?(n(),d("div",D,L)):(n(),d("div",R,[c(r(I),{ref_key:"formRef",ref:V,onSubmit:T},{default:E(({errors:l})=>[e("div",q,[e("div",C,[e("div",M,[e("div",A,[e("div",G,[O,c(r(p),{type:"text",name:"tag_line",class:h(["form-control",{"border-danger":l.tag_line}]),modelValue:t.value.tag_line,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value.tag_line=a),rules:"required"},null,8,["class","modelValue"])])]),e("div",J,[e("div",K,[Q,c(r(p),{as:"textarea",name:"introduction",class:"form-control",modelValue:t.value.introduction,"onUpdate:modelValue":s[1]||(s[1]=a=>t.value.introduction=a),rows:"3"},null,8,["modelValue"])])]),e("div",W,[e("div",X,[(n(),d(F,null,k(3,(a,fe)=>e("div",Y,[e("div",Z,[e("div",j,[e("div",ee,[e("div",se,[e("div",ae,[e("div",te,[oe,c(r(x),{name:`image${a}`,id:`image${a}`,fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 1280px . 720px",changeText:"To change the image please click / drag new image here!",size:"1",ratio:"40%",filePath:t.value[`image${a}`]?t.value[`imagePath${a}`]+t.value[`image${a}`]:"",fileName:t.value[`image${a}`],rules:t.value[`image${a}`]?"image|size:1048|ext:jpg,jpeg,webp,svg,png":"required|image|size:1048|ext:jpg,jpeg,webp,svg,png",onEmitUploadFile:i=>y(i,`image${a}`),onEmitDeleteUploadFile:i=>U(`image${a}`,t.value[`image${a}`])},null,8,["name","id","filePath","fileName","rules","onEmitUploadFile","onEmitDeleteUploadFile"])])]),e("div",le,[e("div",ie,[ne,c(r(p),{type:"text",name:`title${a}`,class:h(["form-control",{"border-danger":l[`title${a}`]}]),modelValue:t.value[`title${a}`],"onUpdate:modelValue":i=>t.value[`title${a}`]=i,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("div",de,[e("div",ce,[re,c(r(p),{as:"textarea",name:`description${a}`,class:h(["form-control",{"border-danger":l[`description${a}`]}]),modelValue:t.value[`description${a}`],"onUpdate:modelValue":i=>t.value[`description${a}`]=i,rows:"5"},null,8,["name","class","modelValue","onUpdate:modelValue"])])])])])])])])),64))])])])])]),e("div",me,[e("div",ue,[e("div",_e,[e("button",ge,[g.value?(n(),d("div",pe)):(n(),d("span",ve,"SUBMIT"))])])])])]),_:1},512)]))])]))}};export{$e as default};
