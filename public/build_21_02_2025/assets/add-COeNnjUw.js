import{u as k,z as B,r as c,o as F,B as S,a as l,c as n,b as s,K as E,e as r,d as u,w as f,f as h,t as g,E as p,F as b,g as w,h as M}from"./app-Bv7sA21o.js";const T={class:"page-wrap property-add"},U={class:"page-title mb-4"},A={class:"row gy-3 align-items-center"},C={class:"col align-self-end"},N={class:"h2 mb-0"},z={class:"col-auto"},D=s("i",{class:"icon-list me-2"},null,-1),L={class:"section"},R={key:0,class:"d-flex justify-content-center py-5"},$=s("div",{class:"spinner-border",role:"status"},null,-1),j=[$],I={key:1,class:"outer-wrapper"},K={class:"row"},Q={class:"col-12 col-lg-10 col-xl-7"},G={class:"row"},H={class:"col-12"},J={class:"form-group"},O=s("label",{for:""},[p("Question"),s("span",{class:"text-danger"},"*")],-1),P={class:"col-12"},W={class:"form-group"},X=s("label",{for:""},[p("Answer"),s("span",{class:"text-danger"},"*")],-1),Y={class:"row pt-2"},Z={class:"col-12"},ss={class:"form-group mb-0"},es={type:"submit",class:"btn btn-save btn-primary"},ts={key:0,class:"spinner-border spinner-border-sm",role:"status"},as={key:1},ns={__name:"add",setup(os){const q=k(),a=B(),o=c([]),_=c(null),i=c(!1),d=c(!1),y=()=>{a.params.id&&(i.value=!0,h.get(`/api/faqs/${a.params.id}`).then(t=>{t.data.status&&(o.value=t.data.data,setTimeout(()=>{i.value=!1},400))}).catch(t=>{i.value=!1,console.log(t)}))},x=t=>{d.value=!0,a.params.id?_.value=`/api/faqs/${a.params.id}`:_.value="/api/faqs",h.post(_.value,t).then(e=>{e.data.status&&(g(e.data.message,"success").show(),setTimeout(()=>{d.value=!1,q.push({name:"list-faqs"})},400))}).catch(e=>{g(e.response.data.message,"error").show(),d.value=!1})};return F(()=>{y()}),(t,e)=>{const V=S("router-link");return l(),n("div",T,[s("div",U,[s("div",A,[s("div",C,[s("h1",N,E(r(a).params.id?"Modify Faq":"Add Faq"),1)]),s("div",z,[u(V,{to:{name:"list-faqs"},class:"btn rounded-pill btn-secondary-light"},{default:f(()=>[D,p(" Manage ")]),_:1})])])]),s("section",L,[i.value?(l(),n("div",R,j)):(l(),n("div",I,[u(r(M),{onSubmit:x},{default:f(({errors:v})=>[s("div",K,[s("div",Q,[s("div",G,[s("div",H,[s("div",J,[O,u(r(b),{type:"text",name:"question",class:w(["form-control",{"border-danger":v.question}]),modelValue:o.value.question,"onUpdate:modelValue":e[0]||(e[0]=m=>o.value.question=m),rules:"required"},null,8,["class","modelValue"])])]),s("div",P,[s("div",W,[X,u(r(b),{as:"textarea",name:"answer",class:w(["form-control",{"border-danger":v.answer}]),rows:"8",modelValue:o.value.answer,"onUpdate:modelValue":e[1]||(e[1]=m=>o.value.answer=m),rules:"required"},null,8,["class","modelValue"])])])])])]),s("div",Y,[s("div",Z,[s("div",ss,[s("button",es,[d.value?(l(),n("div",ts)):(l(),n("span",as,"SUBMIT"))])])])])]),_:1})]))])])}}};export{ns as default};
