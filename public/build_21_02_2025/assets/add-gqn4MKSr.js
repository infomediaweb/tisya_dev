function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{u as U,z,r as o,o as V,B as A,a as n,c as l,b as e,K as N,e as r,d as _,w as v,f as g,t as c,E as h,F as S,g as j,h as B,R as M,S as C}from"./app-Bv7sA21o.js";const D={class:"page-wrap property-add"},I={class:"page-title mb-4"},P={class:"row gy-3 align-items-center"},R={class:"col align-self-end"},L={class:"h2 mb-0"},$={class:"col-auto"},q=e("i",{class:"icon-list me-2"},null,-1),K={class:"section"},O={key:0,class:"d-flex justify-content-center py-5"},G=e("div",{class:"spinner-border",role:"status"},null,-1),H=[G],J={key:1,class:"page-content"},Q={class:"row"},W={class:"col-12 col-lg-10 col-xl-7"},X={class:"row"},Y={class:"col-12"},Z={class:"form-group"},ee=e("label",{for:""},[h("Name"),e("span",{class:"text-danger"},"*")],-1),se={class:"col-12"},ae={class:"form-group"},te=e("label",{for:""},[h("Icon"),e("span",{class:"text-danger"},"*")],-1),ie={class:"row pt-2"},oe={class:"col-12"},ne={class:"form-group mb-0"},le={class:"btn btn-save btn-primary"},ce={key:0,class:"spinner-border spinner-border-sm",role:"status"},de={key:1},_e={__name:"add",setup(me){const f=M(()=>C(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),b=U(),i=z(),u=o({}),p=o(null),t=o({}),d=o(!1),m=o(!1),y=()=>{i.params.id&&(d.value=!0,g.get(`/api/amenities/${i.params.id}`).then(a=>{a.data.status&&(t.value=a.data.data,setTimeout(()=>{d.value=!1},400))}).catch(a=>{c(a.response.data.message,"error").show(),d.value=!1}))},x=a=>{u.value=a},w=a=>{g.get(`/api/amenities-image-delete/${a}`).then(s=>{s.data.status&&(c(s.data.message,"success").show(),t.value.amenities_image="",t.value.amenities_image_name="")}).catch(s=>{c(s.response.data.message,"error").show()})},k=a=>{m.value=!0,i.params.id?p.value=`/api/amenities/${i.params.id}`:p.value="/api/amenities",g.post(p.value,{amenities_name:a.amenities_name,amenities_image:u.value.filename,amenities_image_filepath:u.value.filepath}).then(s=>{s.data.status&&(c(s.data.message,"success").show(),setTimeout(()=>{m.value=!1,b.push({name:"list-amenities"})},400))}).catch(s=>{c(s.response.data.message,"error").show(),m.value=!1})};return V(()=>{y()}),(a,s)=>{const F=A("router-link");return n(),l("div",D,[e("div",I,[e("div",P,[e("div",R,[e("h1",L,N(r(i).params.id?"Modify Amenity":"Add Amenity"),1)]),e("div",$,[_(F,{to:{name:"list-amenities"},class:"btn rounded-pill btn-secondary-light"},{default:v(()=>[q,h(" Manage ")]),_:1})])])]),e("section",K,[d.value?(n(),l("div",O,H)):(n(),l("div",J,[_(r(B),{onSubmit:k},{default:v(({errors:T})=>[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[ee,_(r(S),{type:"text",name:"amenities_name",class:j([{"border-danger":T.amenities_name},"form-control"]),modelValue:t.value.amenities_name,"onUpdate:modelValue":s[0]||(s[0]=E=>t.value.amenities_name=E),rules:"required"},null,8,["class","modelValue"])])]),e("div",se,[e("div",ae,[te,_(r(f),{name:"image",id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"15%",filePath:t.value.amenities_image,fileName:t.value.amenities_image_name,rules:t.value.amenities_image?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:x,onEmitDeleteUploadFile:w},null,8,["filePath","fileName","rules"])])])])])]),e("div",ie,[e("div",oe,[e("div",ne,[e("button",le,[m.value?(n(),l("div",ce)):(n(),l("span",de,"SUBMIT"))])])])])]),_:1})]))])])}}};export{_e as default};
