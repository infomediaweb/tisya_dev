function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as u,z as O,U as G,o as H,a as i,c as n,b as e,d as _,w as z,e as v,f as w,t as f,F as D,g as x,G as k,H as E,C as J,aa as K,E as h,K as W,W as Y,I as N,J as j,L as Q,h as X,R as Z,S as ee,x as te}from"./app-Bv7sA21o.js";import{_ as se}from"./ckeditor-CoRrIgZH.js";import{v as ae}from"./validate-file-EZHt4CEQ.js";import{V as le}from"./vue-draggable-next.esm-bundler-C6HHcIkS.js";import{d as oe}from"./modal-WLjbOo64.js";import"./sourceediting-D-Hsyexd.js";const ie={class:"page-wrap"},ne=e("div",{class:"page-title mb-4"},[e("div",{class:"row gy-3 align-items-center"},[e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Banner Slide")])])],-1),de={class:"section"},re={key:0,class:"d-flex justify-content-center py-5"},ce=e("div",{class:"spinner-border",role:"status"},null,-1),ue=[ce],me={key:1,class:"page-content"},pe={class:"row"},_e={class:"col-12"},ve={class:"form-group title-editor"},ge=e("label",{for:""},[h("Title"),e("span",{class:"text-danger"},"*")],-1),he={class:"col-12"},fe={class:"form-group"},be=e("label",{for:""},[h("Subtitle"),e("span",{class:"text-danger"},"*")],-1),ye={class:"col-12"},we={class:"form-group"},xe=e("label",{for:""},[h("Apartment Title"),e("span",{class:"text-danger"},"*")],-1),ke={class:"col-12 col-md-6"},Ie={class:"form-group"},Ve={class:"row gx-4"},Ce={class:"col-auto"},De={class:"form-check custom-check"},Fe=["id","value","onChange"],Te=["for"],ze=e("span",{class:"text-danger"},"*",-1),Ee={class:"upload-info"},Ne=e("i",{class:"icon-upload"},null,-1),Se={class:"upload-info-text"},Ue=e("strong",null,[h("Drag & Drop Or "),e("span",{class:"text-primary"},"Browse"),h(" Your File.")],-1),Pe=e("small",null,"Max size: 2mb | Image size: 1600px . 1080px",-1),Be={class:"text-danger mt-2 fs-12"},Le={key:0,class:"col-12 pt-4"},Me={class:"image-wrapper form-group"},Re={class:"row"},qe={class:"col-12"},Ae={class:"upload-img"},$e=["src"],Oe=["onClick"],Ge=e("i",{class:"bi bi-trash"},null,-1),He=[Ge],Je={class:"row pt-2"},Ke={class:"col-12"},We={class:"form-group mb-0"},Ye={type:"submit",class:"btn btn-save btn-primary"},je={key:0,class:"spinner-border spinner-border-sm",role:"status"},Qe={key:1},ot={__name:"hero-slide",setup(Xe){u(null),O();const S=Z(()=>ee(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),F=u({}),d=u([]),m=u({}),I=u(null),b=u(!1),y=u(!1),p=u("image"),V=u(!0),U=u([{value:"image",name:"Image"},{value:"video",name:"Video"}]),C=G({filePath:"",fileName:""}),P=a=>{F.value=a},B=(a,t=p.value)=>{let l=C,o=m.value;console.log(o.home_banner_video.filepath,"sss");const r=async s=>{V.value=!1,await te(),V.value=!0,o.file_type==s,l.filePath=o.home_banner_video.filepath,l.fileName=o.home_banner_video.filepath};t=="video"&&r(t)},L=async(a,t)=>{const l=a.target.files,o=new FormData;for(let r=0;r<l.length;r++)if(ae(l[r],t)!=!1){o.append("file",l[r]);try{const s=await w.post("/api/upload",o);s.data.status&&(d.value.push(s.data),d.value[d.value.length-1].status=1)}catch{}await o.delete("file")}a.target.value=null},T=()=>{b.value=!0,w.get("/api/home-banner").then(a=>{a.data.status&&(m.value=a.data.data[0],d.value=a.data.data[0].home_banner_image.map(t=>({id:t.id,filename:t.file,filepath:t.filepath,status:t.status})),setTimeout(()=>{b.value=!1},400))}).catch(a=>{a.data&&f(a.response.data.message,"error").show(),b.value=!1})},M=a=>{I.value=a.draggedContext.index},R=a=>{I.value=null},q=()=>{},A=(a,t,l,o)=>{var r;if(t)oe("Are you sure you want to remove?",function(){w.get(`/api/home-banner-delete-image/${t}`).then(c=>{c.data.status&&(d.value.splice(a,1),f(c.data.message,"success").show())}).catch(c=>{f(c.response.data.message,"error").show()})}).show();else{d.value.splice(a,1);const s=(r=o==null?void 0:o.multipleImages)==null?void 0:r.filter((c,g)=>g!==a);l({values:{multipleImages:s}})}},$=a=>{y.value=!0;let t="";p.value=="image"?t=d.value.map(l=>({filename:l.filename,file_type:p.value,status:l.status})):t=[{filename:F.value.filename,file_type:p.value,status:1}],w.post("/api/home-banner",{title:a.hero_title.replace(/^<[^>]+>|<[^>]+>$/g,""),subtitle:a.hero_subtitle,apartment_title:a.apartment_title,images:t}).then(l=>{l.data.status&&(f(l.data.message,"success").show(),setTimeout(()=>{y.value=!1,T()},400))}).catch(l=>{f(l.response.data.message,"error").show(),y.value=!1})};return H(()=>{T()}),(a,t)=>(i(),n("div",ie,[ne,e("section",de,[b.value?(i(),n("div",re,ue)):(i(),n("div",me,[_(v(X),{onSubmit:$},{default:z(({errors:l,values:o,resetForm:r})=>[e("div",pe,[e("div",_e,[e("div",ve,[ge,_(se,{name:"hero_title",toolbar:["italic","fontColor"],data:m.value.heading,"onUpdate:data":t[0]||(t[0]=s=>m.value.heading=s),rules:"required"},null,8,["data"])])]),e("div",he,[e("div",fe,[be,_(v(D),{type:"text",name:"hero_subtitle",class:x(["form-control",{"border-danger":l.hero_subtitle}]),modelValue:m.value.subtitle,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value.subtitle=s),rules:"required"},null,8,["class","modelValue"])])]),e("div",ye,[e("div",we,[xe,_(v(D),{type:"text",name:"apartment_title",class:x(["form-control",{"border-danger":l.apartment_title}]),modelValue:m.value.apartment_title,"onUpdate:modelValue":t[2]||(t[2]=s=>m.value.apartment_title=s),rules:"required"},null,8,["class","modelValue"])])]),e("div",ke,[e("div",Ie,[e("div",Ve,[(i(!0),n(k,null,E(U.value,(s,c)=>(i(),n("div",Ce,[e("div",De,[J(e("input",{type:"radio",name:"image-video",class:"form-check-input",id:s.value,value:s.value,"onUpdate:modelValue":t[3]||(t[3]=g=>p.value=g),onChange:g=>B(g,s.value)},null,40,Fe),[[K,p.value]]),e("label",{for:s.value},[h(W(s.name),1),ze],8,Te)])]))),256))]),p.value=="image"?(i(),n(k,{key:0},[e("div",{class:x(["upload-wrapper",{"border-danger":l.multipleImages}])},[_(v(D),{type:"file",name:"multipleImages",id:"multipleImages",accept:"image/*",multiple:"",onChange:s=>L(s,l.multipleImages),rules:d.value.length?"image|size:3144|ext:jpg,jpeg,webp,svg,png":"required|image|size:3144|ext:jpg,jpeg,webp,svg,png"},null,8,["onChange","rules"]),e("div",Ee,[Ne,e("div",Se,[Ue,Pe,e("small",Be,[_(v(Y),{name:"multipleImages"})])])])],2),d.value.length?(i(),n("div",Le,[e("div",Me,[_(v(le),{class:"row gy-4",list:d.value,move:M,onEnd:R,onChange:q,filter:"button, .img-status"},{default:z(()=>[(i(!0),n(k,null,E(d.value,(s,c)=>(i(),n("div",{class:x(["col-6 col-sm-4 col-md-3 drag-el",{active:I.value==c}]),key:c},[e("div",Re,[e("div",qe,[e("div",Ae,[e("img",{src:s.filepath,class:"w-100"},null,8,$e),e("button",{type:"button",onClick:g=>A(c,s.id,r,o),class:"btn btn-light btn-sm"},He,8,Oe)])])])],2))),128))]),_:2},1032,["list"])])])):N("",!0)],64)):(i(),n(k,{key:1},[V.value?(i(),j(v(S),Q({key:0,name:"video",id:"video",fileType:"video",acceptType:"video/mp4",info:"Max size: 100mb",changeText:"To change the video please click / drag new video here!",size:"100",ratio:"40%",rules:C.fileName?"size:104800|ext:mp4":"required|size:104800|ext:mp4"},C,{onEmitUploadFile:P,isDeleteDisabled:!0}),null,16,["rules"])):N("",!0)],64))])])]),e("div",Je,[e("div",Ke,[e("div",We,[e("button",Ye,[y.value?(i(),n("div",je)):(i(),n("span",Qe,"SUBMIT"))])])])])]),_:1})]))])]))}};export{ot as default};
