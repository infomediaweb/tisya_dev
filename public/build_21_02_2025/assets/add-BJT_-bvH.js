import{z as C,u as B,r as p,o as E,B as F,a as i,c as r,b as e,K as w,e as l,d as n,w as b,f as V,t as S,E as _,F as d,g as m,G as T,H as M,h as A}from"./app-Bv7sA21o.js";const I={class:"page-wrap property-add"},L={class:"page-title mb-4"},z={class:"row gy-3 align-items-center"},D={class:"col align-self-end"},G={class:"h2 mb-0"},R={class:"col-auto"},$=e("i",{class:"icon-list me-2"},null,-1),H={class:"section"},K={key:0,class:"d-flex justify-content-center py-5"},P=e("div",{class:"spinner-border",role:"status"},null,-1),W=[P],j={key:1,class:"page-content"},J={class:"row"},O={class:"col-12 col-lg-10 col-xl-9"},Q={class:"row"},X={class:"col-12 col-lg-6"},Y={class:"form-group"},Z=e("label",{for:""},[_("State"),e("span",{class:"text-danger"},"*")],-1),ee=e("option",{value:"",selected:"",disabled:""},"Select State",-1),se=["value"],oe={class:"col-12 col-lg-6"},ae={class:"form-group"},te=e("label",{for:""},[_("Name"),e("span",{class:"text-danger"},"*")],-1),le={class:"col-12 col-lg-3"},ne={class:"form-group"},de=e("label",{for:""},[_("GST No"),e("span",{class:"text-danger"},"*")],-1),ce={class:"col-12 col-lg-3"},ie={class:"form-group"},re=e("label",{for:""},[_("CIN No"),e("span",{class:"text-danger"},"*")],-1),me={class:"col-12 col-lg-6"},_e={class:"form-group"},ue=e("label",{for:""},"Phone No",-1),pe={class:"col-12"},ve={class:"form-group"},ge=e("label",{for:""},[_("Address"),e("span",{class:"text-danger"},"*")],-1),he={class:"col-12 col-lg-6"},ye={class:"form-group"},fe=e("label",{for:""},[_("Email"),e("span",{class:"text-danger"},"*")],-1),be={class:"col-12 col-lg-6"},Ve={class:"form-group"},xe=e("label",{for:""},"Website",-1),we={class:"row pt-2"},Se={class:"col-12"},Ue={class:"form-group mb-0"},ke={class:"btn btn-save btn-primary"},Ne={key:0,class:"spinner-border spinner-border-sm",role:"status"},qe={key:1},Fe={__name:"add",setup(Ce){const v=C(),U=B(),x=p([]),g=p(null),t=p({}),f=p(null),h=p(!1),y=p(!1),k=()=>{V.get("/api/states").then(s=>{s.data.status&&(x.value=s.data.data)}).catch(s=>{console.log(s)})},N=()=>{v.params.id&&(h.value=!0,V.get(`/api/company/${v.params.id}`).then(s=>{s.data.status&&(t.value=s.data.data,g.value=t.value.state_id,setTimeout(()=>{h.value=!1},400))}).catch(s=>{h.value=!1,console.log(s)}))},q=(s,{resetForm:a})=>{y.value=!0,v.params.id?f.value=`/api/company/${v.params.id}`:f.value="/api/company",V.post(f.value,{state_id:g.value,company_name:s.company_name,company_address:s.company_address,gst_no:s.gst_no,cin_no:s.cin_no,company_phone:s.company_phone,company_email:s.company_email,company_website:s.company_website}).then(u=>{u.data.status&&(S(u.data.message,"success").show(),setTimeout(()=>{y.value=!1,U.push({name:"list-company"})},400))}).catch(u=>{S(u.response.data.message,"error").show(),y.value=!1})};return E(()=>{k(),N()}),(s,a)=>{const u=F("router-link");return i(),r("div",I,[e("div",L,[e("div",z,[e("div",D,[e("h1",G,w(l(v).params.id?"Modify Company":"Add Company"),1)]),e("div",R,[n(u,{to:{name:"list-company"},class:"btn rounded-pill btn-secondary-light"},{default:b(()=>[$,_(" Manage ")]),_:1})])])]),e("section",H,[h.value?(i(),r("div",K,W)):(i(),r("div",j,[n(l(A),{action:"",onSubmit:q},{default:b(({errors:c})=>[e("div",J,[e("div",O,[e("div",Q,[e("div",X,[e("div",Y,[Z,n(l(d),{class:m(["form-control",{"border-danger":c.state}]),name:"state",as:"select",rules:"required",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=o=>g.value=o)},{default:b(()=>[ee,(i(!0),r(T,null,M(x.value,(o,Be)=>(i(),r("option",{value:o.id},w(o.name),9,se))),256))]),_:2},1032,["class","modelValue"])])]),e("div",oe,[e("div",ae,[te,n(l(d),{type:"text",name:"company_name",class:m([{"border-danger":c.company_name},"form-control"]),rules:"required",modelValue:t.value.company_name,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.company_name=o)},null,8,["class","modelValue"])])]),e("div",le,[e("div",ne,[de,n(l(d),{type:"text",name:"gst_no",class:m([{"border-danger":c.gst_no},"form-control"]),maxlength:"15",minlength:"15",rules:"required|min:15|max:15",modelValue:t.value.gst_no,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.gst_no=o)},null,8,["class","modelValue"])])]),e("div",ce,[e("div",ie,[re,n(l(d),{type:"text",name:"cin_no",class:m([{"border-danger":c.cin_no},"form-control"]),maxlength:"21",minlength:"21",rules:"required|min:21|max:21",modelValue:t.value.cin_no,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.cin_no=o)},null,8,["class","modelValue"])])]),e("div",me,[e("div",_e,[ue,n(l(d),{type:"text",name:"company_phone",class:m(["form-control",{"border-danger":c.company_phone}]),modelValue:t.value.company_phone,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.company_phone=o),rules:"numeric"},null,8,["class","modelValue"])])]),e("div",pe,[e("div",ve,[ge,n(l(d),{as:"textarea",name:"company_address",class:m([{"border-danger":c.company_address},"form-control"]),rows:"8",rules:"required",modelValue:t.value.company_address,"onUpdate:modelValue":a[5]||(a[5]=o=>t.value.company_address=o)},null,8,["class","modelValue"])])]),e("div",he,[e("div",ye,[fe,n(l(d),{type:"email",name:"company_email",class:m([{"border-danger":c.company_email},"form-control"]),rules:"required|email",modelValue:t.value.company_email,"onUpdate:modelValue":a[6]||(a[6]=o=>t.value.company_email=o)},null,8,["class","modelValue"])])]),e("div",be,[e("div",Ve,[xe,n(l(d),{type:"text",name:"company_website",class:"form-control",modelValue:t.value.company_website,"onUpdate:modelValue":a[7]||(a[7]=o=>t.value.company_website=o)},null,8,["modelValue"])])])])])]),e("div",we,[e("div",Se,[e("div",Ue,[e("button",ke,[y.value?(i(),r("div",Ne)):(i(),r("span",qe,"SUBMIT"))])])])])]),_:1})]))])])}}};export{Fe as default};
