function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as a,z,u as N,o as D,B as M,a as n,c as d,b as e,K as j,e as p,d as r,w,f as v,t as h,E as g,F as B,g as I,C as A,X as P,h as R,R as $,S as L}from"./app-Bv7sA21o.js";import{_ as q}from"./ckeditor-CoRrIgZH.js";import"./sourceediting-D-Hsyexd.js";const K={class:"page-wrap property-add"},O={class:"page-title mb-4"},X={class:"row gy-3 align-items-center"},G={class:"col align-self-end"},H={class:"h2 mb-0"},J={class:"col-auto"},Q=e("i",{class:"icon-list me-2"},null,-1),W={class:"section"},Y={key:0,class:"d-flex justify-content-center py-5"},Z=e("div",{class:"spinner-border",role:"status"},null,-1),ee=[Z],se={key:1,class:"page-content"},te={class:"row"},oe={class:"col-12"},ae={class:"row"},le={class:"row"},ie={class:"col-12 col-lg-6"},ce={class:"form-group"},ne=e("label",{for:""},[g("Collection Name"),e("span",{class:"text-danger"},"*")],-1),de={class:"row"},re={class:"col-12 col-lg-6"},ue={class:"form-group ckeditor-form"},_e=e("label",{for:""},[g("Description"),e("span",{class:"text-danger"},"*")],-1),me={class:"col-12 col-lg-6"},pe={class:"form-group"},ve=e("label",{for:""},[g("Image"),e("span",{class:"text-danger"},"*")],-1),he={class:"col-12"},ge={class:"form-group"},fe={class:"form-check form-switch"},be={class:"row pt-2"},we={class:"col-12"},xe={class:"form-group mb-0"},ye={class:"btn btn-save btn-primary"},ke={key:0,class:"spinner-border spinner-border-sm",role:"status"},Ce={key:1},Ee={__name:"add",setup(Fe){const x=$(()=>L(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),b=a({}),i=z(),y=N(),k=a([]),C=a(null),u=a(1),t=a({}),f=a(null),_=a(!1),m=a(!1),F=()=>{v.get("/api/states").then(s=>{s.data.status&&(k.value=s.data.data)}).catch(s=>{console.log(s)})},U=()=>{i.params.id&&(_.value=!0,v.get(`/api/collection/${i.params.id}`).then(s=>{s.data.status&&(t.value=s.data.data,C.value=t.value.state_id,t.value.collection_description=t.value.collection_description||"",u.value=t.value.status,setTimeout(()=>{_.value=!1},400))}).catch(s=>{_.value=!1,console.log(s)}))},S=s=>{b.value=s},T=s=>{v.get(`/api/collection-image-delete/${s}`).then(o=>{o.data.status&&(h(o.data.message,"success").show(),t.value.image_name="",t.value.image="")}).catch(o=>{h(o.response.data.message,"error").show()})},E=(s,{resetForm:o})=>{m.value=!0,i.params.id?f.value=`/api/collection/${i.params.id}`:f.value="/api/collection",v.post(f.value,{collection_name:s.collection_name,image:b.value.filename,collection_description:s.collection_description,status:u.value}).then(l=>{l.data.status&&(h(l.data.message,"success").show(),setTimeout(()=>{m.value=!1,y.push({name:"list-collection"})},400))}).catch(l=>{h(l.response.data.message,"error").show(),m.value=!1})};return D(()=>{F(),U()}),(s,o)=>{const l=M("router-link");return n(),d("div",K,[e("div",O,[e("div",X,[e("div",G,[e("h1",H,j(p(i).params.id?"Modify Collection":"Add Collection"),1)]),e("div",J,[r(l,{to:{name:"list-collection"},class:"btn rounded-pill btn-secondary-light"},{default:w(()=>[Q,g(" Manage ")]),_:1})])])]),e("section",W,[_.value?(n(),d("div",Y,ee)):(n(),d("div",se,[r(p(R),{action:"",onSubmit:E},{default:w(({errors:V})=>[e("div",te,[e("div",oe,[e("div",ae,[e("div",le,[e("div",ie,[e("div",ce,[ne,r(p(B),{type:"text",name:"collection_name",class:I([{"border-danger":V.collection_name},"form-control"]),placeholder:"Name",modelValue:t.value.collection_name,"onUpdate:modelValue":o[0]||(o[0]=c=>t.value.collection_name=c),rules:"required"},null,8,["class","modelValue"])])])]),e("div",de,[e("div",re,[e("div",ue,[_e,r(q,{name:"collection_description",data:t.value.collection_description,"onUpdate:data":o[1]||(o[1]=c=>t.value.collection_description=c)},null,8,["data"])])]),e("div",me,[e("div",pe,[ve,r(p(x),{name:"image",id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"20%",filePath:t.value.image,fileName:t.value.image_name,rules:t.value.image?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:S,onEmitDeleteUploadFile:T},null,8,["filePath","fileName","rules"])])])]),e("div",he,[e("div",ge,[e("div",fe,[A(e("input",{name:"status",class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=c=>u.value=c),"true-value":"1","false-value":"0"},null,512),[[P,u.value]])])])])])])]),e("div",be,[e("div",we,[e("div",xe,[e("button",ye,[m.value?(n(),d("div",ke)):(n(),d("span",Ce,"SUBMIT"))])])])])]),_:1})]))])])}}};export{Ee as default};
