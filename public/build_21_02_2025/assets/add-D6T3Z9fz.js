import{z as U,u as q,r as h,o as B,B as E,a as u,c as _,b as e,K as M,e as l,d as n,w as g,f as b,t as V,E as d,F as m,g as p,h as S}from"./app-Bv7sA21o.js";const F={class:"page-wrap property-add"},N={class:"page-title mb-4"},T={class:"row gy-3 align-items-center"},C={class:"col align-self-end"},z={class:"h2 mb-0"},A={class:"col-auto"},D=e("i",{class:"icon-list me-2"},null,-1),L={class:"section"},O={key:0,class:"d-flex justify-content-center py-5"},R=e("div",{class:"spinner-border",role:"status"},null,-1),$=[R],j={key:1,class:"page-content"},I={class:"row"},K={class:"col-12 col-lg-10 col-xl-6"},P={class:"row"},G={class:"col-12"},H={class:"form-group"},J=e("label",{for:""},[d("Name"),e("span",{class:"text-danger"},"*")],-1),Q={class:"col-12 col-lg-6"},W={class:"form-group"},X=e("label",{for:""},[d("Mobile"),e("span",{class:"text-danger"},"*")],-1),Y={class:"col-12 col-lg-6"},Z={class:"form-group"},ee=e("label",{for:""},[d("Email"),e("span",{class:"text-danger"},"*")],-1),se={class:"col-12 col-lg-6"},oe={class:"form-group"},ae=e("label",{for:""},[d("Username"),e("span",{class:"text-danger"},"*")],-1),te={class:"col-12 col-lg-6"},le={class:"form-group"},ne=e("label",{for:""},[d("Password"),e("span",{class:"text-danger"},"*")],-1),re={class:"row pt-2"},de={class:"col-12"},ie={class:"form-group mb-0"},ce={class:"btn btn-save btn-primary"},ue={key:0,class:"spinner-border spinner-border-sm",role:"status"},_e={key:1},ve={__name:"add",setup(me){const i=U(),y=q(),s=h({}),f=h(null),v=h(!1),w=h(!1),x=()=>{i.params.id&&(v.value=!0,b.get(`/api/owner-detail/${i.params.id}`).then(o=>{o.data.status&&(s.value=o.data.data,setTimeout(()=>{v.value=!1},400))}).catch(o=>{v.value=!1,console.log(o)}))},k=(o,{resetForm:a})=>{w.value=!0,f.value=i.params.id?`/api/save-owner-detail/${i.params.id}`:"/api/save-owner-detail",b.post(f.value,{name:o.owner_name,mobile_no:o.owner_mobile_no,email:o.owner_email,user_name:o.owner_user_name,password:o.owner_password}).then(r=>{r.data.status&&(V(r.data.message,"success").show(),setTimeout(()=>{w.value=!1,y.push({name:"list-owner"})},400))}).catch(r=>{V(r.response.data.message,"error").show(),w.value=!1})};return B(()=>{x()}),(o,a)=>{const r=E("router-link");return u(),_("div",F,[e("div",N,[e("div",T,[e("div",C,[e("h1",z,M(l(i).params.id?"Modify Owner":"Add Owner"),1)]),e("div",A,[n(r,{to:{name:"list-owner"},class:"btn rounded-pill btn-secondary-light"},{default:g(()=>[D,d(" Manage ")]),_:1})])])]),e("section",L,[v.value?(u(),_("div",O,$)):(u(),_("div",j,[n(l(S),{action:"",onSubmit:k},{default:g(({errors:c})=>[e("div",I,[e("div",K,[e("div",P,[e("div",G,[e("div",H,[J,n(l(m),{type:"text",name:"owner_name",class:p([{"border-danger":c.owner_name},"form-control"]),rules:"required",modelValue:s.value.name,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value.name=t)},null,8,["class","modelValue"])])]),e("div",Q,[e("div",W,[X,n(l(m),{type:"number",name:"owner_mobile_no",class:p([{"border-danger":c.owner_mobile_no},"form-control"]),rules:"required|numeric|min:10|max:10",modelValue:s.value.mobile_no,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.mobile_no=t)},null,8,["class","modelValue"])])]),e("div",Y,[e("div",Z,[ee,n(l(m),{type:"text",name:"owner_email",class:p([{"border-danger":c.owner_email},"form-control"]),rules:"required|email",modelValue:s.value.email,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.email=t)},null,8,["class","modelValue"])])]),e("div",se,[e("div",oe,[ae,n(l(m),{type:"text",name:"owner_user_name",class:p([{"border-danger":c.owner_user_name},"form-control"]),rules:"required",modelValue:s.value.user_name,"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.user_name=t)},null,8,["class","modelValue"])])]),e("div",te,[e("div",le,[ne,n(l(m),{type:"password",name:"owner_password",class:p([{"border-danger":c.owner_password},"form-control"]),rules:"required",modelValue:s.value.password,"onUpdate:modelValue":a[4]||(a[4]=t=>s.value.password=t)},null,8,["class","modelValue"])])])])])]),e("div",re,[e("div",de,[e("div",ie,[e("button",ce,[w.value?(u(),_("div",ue)):(u(),_("span",_e,"SUBMIT"))])])])])]),_:1})]))])])}}};export{ve as default};
