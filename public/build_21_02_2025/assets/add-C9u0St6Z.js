function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as l,z as L,u as M,o as B,B as I,a as d,c,b as e,K as S,e as i,d as n,w as y,f as h,t as f,E as b,F as m,g as U,G as j,H as A,C as P,X as R,h as q,R as $,S as K}from"./app-Bv7sA21o.js";const O={class:"page-wrap property-add"},G={class:"page-title mb-4"},H={class:"row gy-3 align-items-center"},X={class:"col align-self-end"},J={class:"h2 mb-0"},Q={class:"col-auto"},W=e("i",{class:"icon-list me-2"},null,-1),Y={class:"section"},Z={key:0,class:"d-flex justify-content-center py-5"},ee=e("div",{class:"spinner-border",role:"status"},null,-1),se=[ee],te={key:1,class:"page-content"},ae={class:"row"},oe={class:"col-12 col-lg-10 col-xl-7"},le={class:"row"},ie={class:"col-12 col-lg-6"},ne={class:"form-group"},de=e("label",{for:""},[b("State"),e("span",{class:"text-danger"},"*")],-1),ce=e("option",{value:"",selected:"",disabled:""},"Select State",-1),re=["value"],ue={class:"col-12 col-lg-6"},me={class:"form-group"},_e=e("label",{for:""},[b("Name"),e("span",{class:"text-danger"},"*")],-1),pe={class:"col-12 col-lg-6"},ve={class:"form-group"},ge=e("label",{for:""},[b("Image"),e("span",{class:"text-danger"},"*")],-1),he=e("div",{class:"col-12 mt-4"},[e("div",{class:"form-group"},[e("h6",{class:"mb-0 fw-bold"},"SEO Fields")])],-1),fe={class:"col-12"},be=e("label",null,"Title",-1),we={class:"form-group"},ye={class:"col-12 col-md-6"},xe=e("label",null,"Keywords",-1),Ve={class:"form-group"},ke={class:"col-12 col-md-6"},Se=e("label",null,"Description",-1),Ue={class:"form-group"},Fe={class:"col-12"},Te={class:"form-group"},Ee={class:"form-check form-switch"},ze={class:"row pt-2"},Ce={class:"col-12"},Ne={class:"form-group mb-0"},De={class:"btn btn-save btn-primary"},Le={key:0,class:"spinner-border spinner-border-sm",role:"status"},Me={key:1},Ae={__name:"add",setup(Be){const F=$(()=>K(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),x=l({}),u=L(),T=M(),V=l([]),_=l(null),p=l(1),a=l({}),w=l(null),v=l(!1),g=l(!1),E=()=>{h.get("/api/states").then(s=>{s.data.status&&(V.value=s.data.data)}).catch(s=>{console.log(s)})},z=()=>{u.params.id&&(v.value=!0,h.get(`/api/location/${u.params.id}`).then(s=>{s.data.status&&(a.value=s.data.data,_.value=a.value.state_id,p.value=a.value.status,setTimeout(()=>{v.value=!1},400))}).catch(s=>{v.value=!1,console.log(s)}))},C=s=>{x.value=s},N=s=>{h.get(`/api/location-image-delete/${s}`).then(t=>{t.data.status&&(f(t.data.message,"success").show(),a.value.image_name="",a.value.image="")}).catch(t=>{f(t.response.data.message,"error").show()})},D=(s,{resetForm:t})=>{g.value=!0,u.params.id?w.value=`/api/location/${u.params.id}`:w.value="/api/location",h.post(w.value,{state_id:_.value,location_name:s.location_name,image:x.value.filename,meta_title:s.meta_title,meta_keyword:s.meta_keyword,meta_description:s.meta_description,status:p.value}).then(r=>{r.data.status&&(f(r.data.message,"success").show(),setTimeout(()=>{g.value=!1,T.push({name:"list-location"})},400))}).catch(r=>{f(r.response.data.message,"error").show(),g.value=!1})};return B(()=>{E(),z()}),(s,t)=>{const r=I("router-link");return d(),c("div",O,[e("div",G,[e("div",H,[e("div",X,[e("h1",J,S(i(u).params.id?"Modify Location":"Add Location"),1)]),e("div",Q,[n(r,{to:{name:"list-location"},class:"btn rounded-pill btn-secondary-light"},{default:y(()=>[W,b(" Manage ")]),_:1})])])]),e("section",Y,[v.value?(d(),c("div",Z,se)):(d(),c("div",te,[n(i(q),{action:"",onSubmit:D},{default:y(({errors:k})=>[e("div",ae,[e("div",oe,[e("div",le,[e("div",ie,[e("div",ne,[de,n(i(m),{class:U(["form-control",{"border-danger":k.state}]),name:"state",as:"select",rules:"required",modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=o=>_.value=o)},{default:y(()=>[ce,(d(!0),c(j,null,A(V.value,(o,Ie)=>(d(),c("option",{value:o.id},S(o.name),9,re))),256))]),_:2},1032,["class","modelValue"])])]),e("div",ue,[e("div",me,[_e,n(i(m),{type:"text",name:"location_name",class:U([{"border-danger":k.location_name},"form-control"]),placeholder:"Name",modelValue:a.value.location_name,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.location_name=o),rules:"required"},null,8,["class","modelValue"])])]),e("div",pe,[e("div",ve,[ge,n(i(F),{name:"image",id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"15%",filePath:a.value.image,fileName:a.value.image_name,rules:a.value.image?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:C,onEmitDeleteUploadFile:N},null,8,["filePath","fileName","rules"])])]),he,e("div",fe,[be,e("div",we,[n(i(m),{type:"text",name:"meta_title",class:"form-control",modelValue:a.value.meta_title,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.meta_title=o)},null,8,["modelValue"])])]),e("div",ye,[xe,e("div",Ve,[n(i(m),{as:"textarea",name:"meta_keyword",class:"form-control",rows:"3",modelValue:a.value.meta_keyword,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value.meta_keyword=o)},null,8,["modelValue"])])]),e("div",ke,[Se,e("div",Ue,[n(i(m),{as:"textarea",name:"meta_description",class:"form-control",rows:"3",modelValue:a.value.meta_description,"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.meta_description=o)},null,8,["modelValue"])])]),e("div",Fe,[e("div",Te,[e("div",Ee,[P(e("input",{name:"status",class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=o=>p.value=o),"true-value":"1","false-value":"0"},null,512),[[R,p.value]])])])])])])]),e("div",ze,[e("div",Ce,[e("div",Ne,[e("button",De,[g.value?(d(),c("div",Le)):(d(),c("span",Me,"SUBMIT"))])])])])]),_:1})]))])])}}};export{Ae as default};
