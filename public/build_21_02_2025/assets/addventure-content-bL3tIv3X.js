function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{z as $,r as c,U as A,o as E,a as i,c as n,d as u,w,e as m,t as _,b as e,V as z,G as S,H as D,F as k,g as x,E as N,h as P,R as B,S as L}from"./app-Bv7sA21o.js";import{d as q}from"./modal-WLjbOo64.js";const R={class:"section"},G={key:0,class:"d-flex justify-content-center py-5"},O=e("div",{class:"spinner-border",role:"status"},null,-1),H=[O],J={key:1,class:"outer-wrapper"},K={class:"table-wrap"},Q={class:"table-responsive"},W={class:"table table-list mb-0 mw-lg"},X=e("thead",null,[e("tr",null,[e("th",{class:"fw-semibold"},"Image"),e("th",{class:"fw-semibold"},"Title"),e("th",{class:"fw-semibold"},"Description"),e("th",{style:{width:"90px"},class:"text-secondary text-center fw-semibold"},"Action")])],-1),Y={class:"form-group mb-0"},Z={class:"form-group mb-0"},j={class:"form-group mb-0"},ee={class:"action-btn-group justify-content-center mb-0 mw-0"},te=["onClick"],se=e("i",{class:"icon-bi bi-trash"},null,-1),ae=[se],oe=["onClick"],le=e("i",{class:"icon-bi bi-trash"},null,-1),ie=[le],ne={class:"table-footer pt-3"},de={class:"row align-items-center"},re={class:"col-auto"},ce=["onClick","disabled"],ue=e("i",{class:"bi bi-plus-lg me-2"},null,-1),me={class:"table-footer pt-4"},_e={class:"row align-items-center"},pe={class:"col-12"},he={class:"btn btn-save btn-primary"},ve={key:0,class:"spinner-border spinner-border-sm",role:"status"},ge={key:1},we={__name:"addventure-content",props:{data:Object},emits:["emitCurrentTab"],setup(be,{emit:I}){$();const V=B(()=>L(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),b=c({}),h=c(!1),p=c(!1),f=I;c(["Per_Night","Per_Stay"]),c([]);const v=A({addMultiItem:[{title:"",description:"",id:"",image:""}]}),g=async()=>{var s,a;h.value=!0;try{const o=await axios.get("/api/addventure-content");if(o.data.status){const t=o.data.data;console.log(t,"bannerData"),t.length?v.addMultiItem=t:v.addMultiItem=[{title:"",description:"",id:"",image:""}]}}catch(o){_(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Error loading data","error").show()}finally{h.value=!1}},y=s=>s[s.length-1].value,C=(s,a,o)=>{b.value=s,o[a].value.image=b.value.filename},T=(s,a)=>{q("Are you sure you want to remove?",o).show();function o(){axios.delete(`/api/delete-addventure/${s}`).then(t=>{t.data.status&&(_(t.data.message,"success").show(),g(),setTimeout(()=>{f("emitCurrentTab","Additional Charges")},400))}).catch(t=>{_(t.response.data.message,"error").show()})}},F=s=>{p.value=!0,axios.post("/api/save-addventure",{addventure_content:s.addMultiItem}).then(a=>{a.data.status&&(_(a.data.message,"success").show(),g(),setTimeout(()=>{p.value=!1,f("emitCurrentTab","Gallery")},400))}).catch(a=>{_(a.response.data.message,"error").show(),p.value=!1})};return E(()=>{g()}),(s,a)=>(i(),n("section",R,[h.value?(i(),n("div",G,H)):(i(),n("div",J,[u(m(P),{onSubmit:F,"initial-values":v},{default:w(({errors:o})=>[e("div",K,[u(m(z),{name:"addMultiItem"},{default:w(({fields:t,push:U,remove:M})=>[e("div",Q,[e("table",W,[X,e("tbody",null,[(i(!0),n(S,null,D(t,(l,d)=>(i(),n("tr",{key:d},[e("td",null,[e("div",Y,[u(m(V),{name:`image${d}`,id:"image",fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 100px . 100px",changeText:"To change the icon please click / drag new icon here!",size:"1",ratio:"35%",class:"upload-smaller",filePath:l.value.image_url,fileName:l.value.image,rules:l.value.image?"image|ext:jpg,jpeg,webp,svg,png|size:1048":"required|image|ext:jpg,jpeg,webp,svg,png|size:1048",onEmitUploadFile:r=>C(r,d,t),isDeleteDisabled:!0},null,8,["name","filePath","fileName","rules","onEmitUploadFile"])])]),e("td",null,[e("div",Z,[u(m(k),{name:`title${d}`,type:"text",class:x(["form-control",{"border-danger":o[`title${d}`]}]),modelValue:l.value.title,"onUpdate:modelValue":r=>l.value.title=r,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[e("div",j,[u(m(k),{name:`description${d}`,type:"text",class:x(["form-control",{"border-danger":o[`description${d}`]}]),modelValue:l.value.description,"onUpdate:modelValue":r=>l.value.description=r,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("td",null,[e("ul",ee,[e("li",null,[l.value.id?(i(),n("button",{key:0,type:"button",onClick:r=>T(l.value.id),class:"btn p-1 fs-5 text-black"},ae,8,te)):(i(),n("button",{key:1,type:"button",onClick:r=>M(d),class:"btn p-1 fs-5 text-black"},ie,8,oe))])])])]))),128))])])]),e("div",ne,[e("div",de,[e("div",re,[e("button",{type:"button",class:"btn btn-save btn-secondary",onClick:l=>U({title:"",description:"",image:"",id:""}),disabled:!y(t).title||!y(t).description},[ue,N("Add More ")],8,ce)])])])]),_:2},1024)]),e("div",me,[e("div",_e,[e("div",pe,[e("button",he,[p.value?(i(),n("div",ve)):(i(),n("span",ge,"SUBMIT"))])])])])]),_:1},8,["initial-values"])]))]))}};export{we as default};
