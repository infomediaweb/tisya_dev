function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/upload-file-DWJp9l3Q.js","assets/app-Bv7sA21o.js","assets/app-CwtUCi3Q.css","assets/validate-file-EZHt4CEQ.js","assets/modal-WLjbOo64.js","assets/upload-file-DLq5npDo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as g,U as x,o as P,a as l,c as n,b as e,d as _,w as F,e as p,f as v,t as r,V as z,G as A,H as N,K as S,I,F as B,g as L,E as f,h as R,R as q,S as O}from"./app-Bv7sA21o.js";import{_ as G}from"./ckeditor-CoRrIgZH.js";import{d as H}from"./modal-WLjbOo64.js";import"./sourceediting-D-Hsyexd.js";const K={class:"page-wrap"},J=e("div",{class:"page-title mb-4"},[e("div",{class:"row gy-3 align-items-center"},[e("div",{class:"col align-self-end"},[e("h1",{class:"h2 mb-0"},"Our Difference")])])],-1),Q={class:"section"},W={key:0,class:"d-flex justify-content-center py-5"},X=e("div",{class:"spinner-border",role:"status"},null,-1),Y=[X],Z={key:1,class:"page-content"},j={class:"row"},ee={class:"col-12"},te={class:"multi-row"},se={class:"row"},ae={class:"col-12"},oe={class:"form-group"},ie={class:"row"},le={class:"col"},ne={class:"small-action-btn"},ce={class:"btn btn-icon btn-secondary-light pe-none"},de={class:"col-auto"},re={class:"small-action-btn"},ue=["onClick"],_e=e("i",{class:"icon-bi bi-trash fs-6"},null,-1),me=[_e],he=["onClick"],ge=e("i",{class:"icon-bi bi-trash fs-6"},null,-1),pe=[ge],ve={class:"col-12"},fe={class:"form-group"},be=e("label",{for:""},[f("Title"),e("span",{class:"text-danger"},"*")],-1),ye={class:"col-12 col-lg-6"},we={class:"form-group ckeditor-form"},ke=e("label",{for:""},[f("Text"),e("span",{class:"text-danger"},"*")],-1),Fe={class:"col-12 col-lg-6"},Ie={class:"form-group"},Ue=e("label",{for:""},[f("Image"),e("span",{class:"text-danger"},"*")],-1),Te={key:0,class:"action-btn"},$e={class:"row"},Ee={class:"col-12"},Ve=["onClick","disabled"],Ce=e("i",{class:"bi bi-plus-lg me-2"},null,-1),De={class:"row pt-4"},Me={class:"col-12"},xe={class:"form-group mb-0"},Pe={type:"submit",class:"btn btn-save btn-primary"},ze={key:0,class:"spinner-border spinner-border-sm",role:"status"},Ae={key:1},qe={__name:"difference",setup(Ne){const U=q(()=>O(()=>import("./upload-file-DWJp9l3Q.js"),__vite__mapDeps([0,1,2,3,4,5]))),T=g(),k=g({}),m=g(!1),h=g(!1),b=x({addMultiItem:[{title:"",detail:"",image:""}]}),y=t=>t[t.length-1].value,$=(t,s,o)=>{k.value=t,o[s].value.image=k.value.filename},w=()=>{m.value=!0,v.get("/api/our-difference").then(async t=>{t.data.status&&(t.data.data.length?b.addMultiItem=t.data.data.map(s=>({id:s.id,title:s.title,detail:s.detail,image:s.image,imagePath:s.image_path})):b.addMultiItem=[{title:"",detail:"",image:""}],setTimeout(()=>{m.value=!1},400))}).catch(t=>{t.response.data.message&&r(t.response.data.message,"error").show(),m.value=!1})},E=(t,s,o)=>{v.get(`/api/our-difference-delete-image/${s}`).then(u=>{u.data.status&&(r(u.data.message,"success").show(),o[t].value.image="",o[t].value.imagePath="")}).catch(u=>{r(u.response.data.message,"error").show()})},V=t=>{H("Are you sure you want to remove?",s).show();function s(){v.get(`/api/our-difference-delete-record/${t}`).then(o=>{o.data.status&&(r(o.data.message,"success").show(),setTimeout(()=>{w()},400))}).catch(o=>{r(o.response.data.message,"error").show()})}},C=t=>{h.value=!0,v.post("/api/our-difference",{differenceData:t.addMultiItem}).then(s=>{s.data.status&&(r(s.data.message,"success").show(),setTimeout(()=>{h.value=!1,w()},400))}).catch(s=>{r(s.response.data.message,"error").show(),h.value=!1})};return P(()=>{w()}),(t,s)=>(l(),n("div",K,[J,e("section",Q,[m.value?(l(),n("div",W,Y)):(l(),n("div",Z,[_(p(R),{ref_key:"formRef",ref:T,onSubmit:C,"initial-values":b},{default:F(({meta:o,errors:u})=>[e("div",j,[e("div",ee,[_(p(z),{name:"addMultiItem"},{default:F(({fields:c,push:D,remove:M})=>[e("div",te,[(l(!0),n(A,null,N(c,(a,i)=>(l(),n("div",{class:"repeat-row",key:a.key},[e("div",se,[e("div",ae,[e("div",oe,[e("div",ie,[e("div",le,[e("div",ne,[e("div",ce,S(i+1),1)])]),e("div",de,[e("div",re,[a.value.id?(l(),n("button",{key:0,type:"button",class:"btn btn-icon btn-danger",onClick:d=>V(a.value.id)},me,8,ue)):c.length>1?(l(),n("button",{key:1,type:"button",class:"btn btn-icon btn-danger",onClick:d=>M(i)},pe,8,he)):I("",!0)])])])])]),e("div",ve,[e("div",fe,[be,_(p(B),{type:"text",name:`title-${i}`,class:L(["form-control",{"border-danger":u[`title-${i}`]}]),modelValue:a.value.title,"onUpdate:modelValue":d=>a.value.title=d,rules:"required"},null,8,["name","class","modelValue","onUpdate:modelValue"])])]),e("div",ye,[e("div",we,[ke,_(G,{name:`detail-${i}`,rules:a.value.detail?"":"required",data:a.value.detail,"onUpdate:data":d=>a.value.detail=d},null,8,["name","rules","data","onUpdate:data"])])]),e("div",Fe,[e("div",Ie,[Ue,_(p(U),{name:`image-${i}`,id:`image-${i}`,fileType:"image",acceptType:"image/*",info:"Max size: 1mb | Image size: 1600px . 1080px",changeText:"To change the image please click / drag new image here!",size:"1",ratio:"40%",filePath:a.value.imagePath,fileName:a.value.image,rules:a.value.image?"image|size:1048|ext:jpg,jpeg,webp,svg,png":"required|image|size:1048|ext:jpg,jpeg,webp,svg,png",onEmitUploadFile:d=>$(d,i,c),onEmitDeleteFrontendUploadFile:()=>c[i].value.image="",onEmitDeleteUploadFile:d=>E(i,a.value.id,c)},null,8,["name","id","filePath","fileName","rules","onEmitUploadFile","onEmitDeleteFrontendUploadFile","onEmitDeleteUploadFile"])])])])]))),128)),c.length<5?(l(),n("div",Te,[e("div",$e,[e("div",Ee,[e("button",{type:"button",class:"btn btn-save btn-secondary",onClick:a=>D({title:"",detail:"",image:""}),disabled:!y(c).title||!y(c).detail||!y(c).image},[Ce,f("Add More ")],8,Ve)])])])):I("",!0)])]),_:2},1024)])]),e("div",De,[e("div",Me,[e("div",xe,[e("button",Pe,[h.value?(l(),n("div",ze)):(l(),n("span",Ae,"SUBMIT"))])])])])]),_:1},8,["initial-values"])]))])]))}};export{qe as default};
